"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[964],{88964:function(e,a,t){t.r(a),t.d(a,{default:function(){return ge}});var s=t(29439),l=t(72791),n=t(57689),r=t(93433),o=t(74165),i=t(15861),c=t(64387),d=t(96656),u=t(94925),h=t(68096),m=t(61889),p=t(74569),g=t.n(p),x=t(44566),f=t(16456),b=t(11087),j=t(36457),v=t(95779),_=t(46525),k=t(97892),y=t.n(k),Z=t(75985),N=t(27391),S=t(20890),C=(t(5462),t(64554)),w=t(94721),P=t(36151),B=t(80184),A=j.Z.getCurrentUser(),O=new Date;console.log(O.getDate()+1);var D=O.getDate()+1,I=O.toISOString().slice(0,10),T=[{location:"karvenagar_location"},{location:"Kondhwa BK"},{location:"hadapsar_location"},{location:"Undri"},{location:"kharadi_iT_park_location"},{location:"bramhasun_city_location"},{location:"wagholi_location"},{location:"Bhavadi Road"},{location:"magarpatta_location"},{location:"amanora_city_location"},{location:"Green City"}],E=function(e){var a=e.setbookingDetails,t=(e.setValue,(0,l.useState)("")),p=(0,s.Z)(t,2),j=p[0],k=p[1],O=(0,n.s0)(),E="http://localhost:4000/",M=(0,l.useState)(),R=(0,s.Z)(M,2),L=R[0],G=R[1],F=(0,l.useState)(),Y=(0,s.Z)(F,2),H=Y[0],K=Y[1],W=(0,l.useState)(0),U=(0,s.Z)(W,2),q=U[0],z=U[1],J=(0,l.useState)([]),V=(0,s.Z)(J,2),$=V[0],Q=V[1],X=(0,l.useState)(y()(Date.now()).format("YYYY-MM-DD")),ee=(0,s.Z)(X,2),ae=ee[0],te=ee[1],se=(0,l.useState)(),le=(0,s.Z)(se,2),ne=le[0],re=le[1],oe=(0,l.useState)(),ie=(0,s.Z)(oe,2),ce=(ie[0],ie[1]),de=(0,l.useState)(0),ue=(0,s.Z)(de,2),he=ue[0],me=ue[1],pe=(0,l.useState)(0),ge=(0,s.Z)(pe,2),xe=ge[0],fe=ge[1],be=(0,l.useState)(0),je=(0,s.Z)(be,2),ve=je[0],_e=je[1],ke=(0,l.useState)(),ye=(0,s.Z)(ke,2),Ze=(ye[0],ye[1]),Ne=(0,l.useState)(0),Se=(0,s.Z)(Ne,2),Ce=Se[0],we=Se[1],Pe=(0,n.UO)().Id,Be=null===H||void 0===H?void 0:H.length,Ae=(0,l.useState)(!1),Oe=(0,s.Z)(Ae,2),De=Oe[0],Ie=Oe[1];(0,l.useEffect)((function(){Ze(!0),_.Z.getMyStalls().then((function(e){Ze(!1),G(e.data)})),_.Z.getBookedStalls().then((function(e){console.log(he);var a=e.data&&e.data.filter((function(e){return e.location==="".concat(Pe)&&e.bookedAt===he}));re(e.data),we(a.length),console.log("already booked",ne)})),Ee(!0)}),[]),(0,l.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var Te=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var s,l,n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=$.reduce((function(e,a){return a.stallPrice+e}),0),console.log($.length),console.log("price",s),0!==$.length){e.next=6;break}return Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 6:$.toString(),l={location:Pe,bookedStalls:$,bookedBy:A.id,bookedAt:y()(Date.now()).format("YYYY-MM-DD"),isBooked:!0},n=[],$.forEach((function(e){n.push(e.stallName)})),r=E+"bookedstalls","123",g().post(r,l,{headers:(0,f.Z)()}).then((function(e){e.data&&a({farmer:A.firstname+" "+A.lastname,phone:A.phone,paymentDetails:"123",BookedStalls:n,stallsBooked:$.length,totalAmount:s,address:$[0].address}),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){O("../ticket")}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),z(0)}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=L&&L.filter((function(e){return e.location==="".concat(j)}));console.log(e),K(e)}),[j,L,ae]),(0,l.useEffect)((function(){H&&(fe(H.length),console.log(xe),_e(xe-Ce))}),[H,xe]);var Ee=function(){return ce(!0)},Me=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,s,l,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=4;break}Te(),e.next=20;break;case 4:if(t=$.reduce((function(e,a){return a.stallPrice+e}),0),0!==$.length){e.next=8;break}return Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 8:return e.prev=8,s=E+"order",e.next=12,g().post(s,{amount:100*t},{headers:(0,f.Z)()});case 12:l=e.sent,n=l.data,Re(n.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(a){return e.apply(this,arguments)}}(),Re=function(e){var t=$.toString(),s={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:4000/"}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,bookedStalls:t,description:"Wingrow Market",handler:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var s,l,n,r,i,c,d,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=E+"verify",e.next=4,g().post(s,t,{headers:(0,f.Z)()});case 4:l=e.sent,n=l.data,r=n.orderId,console.log("tot"),i={location:j,bookedStalls:$,bookedBy:A.id,bookedAt:y()(ae).format("YYYY-MM-DD"),isBooked:!0},c=[],$.forEach((function(e){console.log(e.stallName),c.push(e.stallName)})),d=$.reduce((function(e,a){return a.stallPrice+e}),0),u=E+"bookedstalls",g().post(u,i,{headers:(0,f.Z)()}).then((function(e){e.data&&a({farmer:A.firstname+" "+A.lastname,phone:A.phone,paymentDetails:r,BookedStalls:c,stallsBooked:$.length,totalAmount:d}),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){O("../ticket")}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),z(0)})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),Q([]),z(0);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(s).open()},Le=function(e){if(console.log("already ",ne),console.log("booked ",$),console.log("number of seats ",q),console.log(e.target),q&&"booked"!==e.target.className){var a=parseInt(q,20);if($.length<=a)if($.includes(e.target.id)){var t=$.filter((function(a){return a!==e.target.id}));Q(t),_e(ve+1)}else if($.length<q){var s=H.filter((function(a){return a._id===e.target.id}));console.log("here booked"),_e(ve-1),Q([].concat((0,r.Z)($),[s[0]]))}else if($.length===a){var l=H.filter((function(a){return a._id===e.target.id}));$.shift(),Q([].concat((0,r.Z)($),[l[0]]))}}};return(0,B.jsxs)("div",{className:"Test",children:[(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsx)(b.rU,{to:"../",className:"advancebookinglinkback",children:"Go Back to stalls!"}),(0,B.jsxs)("div",{className:"main_container_stalls",children:[(0,B.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",children:"Enter Booking Date"}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:he,onChange:function(e){y()(e.target.value).format("YYYY-MM-DD")<=I?(Z.Am.warn("Please select a date after today's date",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),me(I.replace(/.{0,2}$/,"")+D)):me(y()(e.target.value).format("YYYY-MM-DD"))},color:"success",className:"textfield"}),console.log(he)]}),(0,B.jsx)(m.ZP,{className:"select-market-grid",item:!0,xs:12,sm:6,children:(0,B.jsxs)(h.Z,{className:"formcontrol",sx:{width:"100%",fontSize:14},children:[(0,B.jsx)(u.Z,{color:"success",className:"stall-booking-lable",children:"Market"}),(0,B.jsx)(d.Z,{className:"textfield",id:"demo-simple-select-autowidth",value:j,color:"success",onChange:function(e){k(e.target.value)},label:"address",name:"address",required:!0,children:T.map((function(e,a){return(0,B.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",children:"Enter Number of Stalls"}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:ae,onChange:function(e){e.target.value<=-1?(z(0),te(0)):e.target.value<=ve?(z(e.target.value),te(e.target.value)):(z(ve),te(ve))}})]})]}),(0,B.jsxs)("div",{className:"secondary_container_stalls",children:[H&&""!==j?(0,B.jsx)(m.ZP,{className:"stalls-count-cantainer",children:(0,B.jsx)("div",{className:"stall_wrapper",children:(0,B.jsxs)("div",{className:"StallsContainer",children:[(0,B.jsx)(m.ZP,{children:(0,B.jsxs)("div",{className:"stalls-count-div",children:[(0,B.jsxs)(S.Z,{className:"count",children:["Total Stalls :",xe]}),(0,B.jsxs)(S.Z,{className:"count",children:["Available Stalls :",ve]})]})}),34===Be&&(0,B.jsxs)("div",{className:"StallsContainer",children:[console.log($),(0,B.jsx)(x.Z,{data:H.slice(0,16),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(16,17),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(17,18),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(18,34),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he})]}),50===Be&&(0,B.jsxs)("div",{className:"StallsContainer",children:[(0,B.jsx)(x.Z,{data:H.slice(0,24),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(24,25),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(25,26),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he}),(0,B.jsx)(x.Z,{data:H.slice(26,50),handleClick:Le,bookedStalls:$,alreadyBooked:ne,date:he})]})]})})}):(0,B.jsx)("div",{className:"select_market",children:(0,B.jsx)("h2",{children:"Please select the market"})}),(0,B.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,B.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"Booked"})]})]}),(0,B.jsx)(w.Z,{className:"divider"}),(0,B.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,B.jsx)("div",{className:"total-amount",children:"Total Amount"}),(0,B.jsxs)("div",{className:"total-amount",children:["Rs.",$.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]}),0!==q&&0!==$.length?(0,B.jsx)("div",{className:"modalbtn",children:(0,B.jsx)(v.Z,{setCashOnDelivery:Ie,confirmBooking:Me})}):(0,B.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,B.jsx)(m.ZP,{item:!0,xs:6,children:(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,B.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,B.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY IN MARKET"})]})})})]})]})]})},M=t(1413),R=t(37762),L=(t(88253),t(21840)),G=t(50786),F=t(44252),Y=t(24610),H=t(35967);H.kL.register(H.ZL,H.uw,H.f$,H.u,H.De);var K=function(e){var a=e.t,t=(0,l.useState)([]),n=(0,s.Z)(t,2),o=n[0],i=n[1],p=(0,l.useState)([]),g=(0,s.Z)(p,2),x=g[0],f=g[1],j=(0,l.useState)([]),v=(0,s.Z)(j,2),k=v[0],y=v[1],S=(0,l.useState)([]),C=(0,s.Z)(S,2),w=C[0],A=C[1],O=(0,l.useState)(0),D=(0,s.Z)(O,2),I=D[0],T=(D[1],(0,l.useState)(0)),E=(0,s.Z)(T,2),H=(E[0],E[1]),K=(0,l.useState)(0),W=(0,s.Z)(K,2),U=(W[0],W[1],(0,l.useState)(0)),q=(0,s.Z)(U,2),z=(q[0],q[1]),J=new Date,V=(0,l.useState)(0),$=(0,s.Z)(V,2),Q=$[0],X=$[1],ee=(0,l.useState)(0),ae=(0,s.Z)(ee,2),te=ae[0],se=ae[1],le=(0,l.useState)(0),ne=(0,s.Z)(le,2),re=ne[0],oe=ne[1],ie=(0,l.useState)(0),ce=(0,s.Z)(ie,2),de=ce[0],ue=ce[1],he=(0,l.useState)(0),me=(0,s.Z)(he,2),pe=me[0],ge=me[1],xe=(0,l.useState)(0),fe=(0,s.Z)(xe,2),be=fe[0],je=fe[1],ve=(0,l.useState)(0),_e=(0,s.Z)(ve,2),ke=_e[0],ye=_e[1],Ze=(0,l.useState)(0),Ne=(0,s.Z)(Ze,2),Se=Ne[0],Ce=Ne[1],we=(0,l.useState)(0),Pe=(0,s.Z)(we,2),Be=Pe[0],Ae=Pe[1],Oe=(0,l.useState)(0),De=(0,s.Z)(Oe,2),Ie=De[0],Te=De[1],Ee=(0,l.useState)(0),Me=(0,s.Z)(Ee,2),Re=Me[0],Le=Me[1],Ge=(0,l.useState)(0),Fe=(0,s.Z)(Ge,2),Ye=Fe[0],He=Fe[1],Ke=(0,l.useState)(0),We=(0,s.Z)(Ke,2),Ue=We[0],qe=We[1],ze=(0,l.useState)(0),Je=(0,s.Z)(ze,2),Ve=Je[0],$e=Je[1],Qe=(0,l.useState)(0),Xe=(0,s.Z)(Qe,2),ea=Xe[0],aa=Xe[1],ta=(0,l.useState)(0),sa=(0,s.Z)(ta,2),la=sa[0],na=sa[1],ra=(0,l.useState)(0),oa=(0,s.Z)(ra,2),ia=oa[0],ca=oa[1],da=(0,l.useState)(0),ua=(0,s.Z)(da,2),ha=ua[0],ma=ua[1],pa=(0,l.useState)(0),ga=(0,s.Z)(pa,2),xa=ga[0],fa=ga[1],ba=(0,l.useState)(0),ja=(0,s.Z)(ba,2),va=ja[0],_a=ja[1],ka=(0,l.useState)(0),ya=(0,s.Z)(ka,2),Za=ya[0],Na=ya[1],Sa=(0,l.useState)(0),Ca=(0,s.Z)(Sa,2),wa=Ca[0],Pa=Ca[1],Ba=(0,l.useState)(0),Aa=(0,s.Z)(Ba,2),Oa=Aa[0],Da=Aa[1],Ia=(0,l.useState)(0),Ta=(0,s.Z)(Ia,2),Ea=Ta[0],Ma=Ta[1],Ra=(0,l.useState)(0),La=(0,s.Z)(Ra,2),Ga=La[0],Fa=La[1],Ya=(0,l.useState)(0),Ha=(0,s.Z)(Ya,2),Ka=Ha[0],Wa=Ha[1],Ua=(0,l.useState)(0),qa=(0,s.Z)(Ua,2),za=qa[0],Ja=qa[1],Va=(0,l.useState)(0),$a=(0,s.Z)(Va,2),Qa=$a[0],Xa=$a[1],et=(0,l.useState)(""),at=(0,s.Z)(et,2),tt=at[0],st=at[1],lt=(0,l.useState)(0),nt=(0,s.Z)(lt,2),rt=nt[0],ot=nt[1],it=(0,l.useState)(0),ct=(0,s.Z)(it,2),dt=ct[0],ut=ct[1],ht=(0,l.useState)(0),mt=(0,s.Z)(ht,2),pt=(mt[0],mt[1],(0,l.useRef)(null)),gt=[Q*ea-Se*wa,te*la-Be*Oa,re*ia-Ie*Ea,de*ha-Re*Ga,pe*xa-Ye*Ka,be*va-Ue*za,ke*Za-Ve*Qa],xt=(0,l.useState)(!1),ft=(0,s.Z)(xt,2),bt=(ft[0],ft[1]),jt=(0,F.Z)().width;(0,l.useEffect)((function(){bt(jt<850)}),[jt]);for(var vt={"Karve Nagar":2,"Kondhwa BK":2,Hadapsar:3,Undri:3,"Kharadi IT Park":4,"Bramhasun City":5,Wagholi:5,"Bhavadi Road":6,"Amanora City":7,Magarpatta:7,"Green City":7},_t=J.getDay(),kt=[{location:a("karvenagar_location")},{location:a("Kondhwa BK")},{location:a("hadapsar_location")},{location:a("Undri")},{location:a("kharadi_iT_park_location")},{location:a("bramhasun_city_location")},{location:a("wagholi_location")},{location:a("Bhavadi Road")},{location:a("magarpatta_location")},{location:a("amanora_city_location")},{location:a("Green City")}],yt=(0,l.useState)(null),Zt=(0,s.Z)(yt,2),Nt=Zt[0],St=Zt[1],Ct=(0,l.useState)(!1),wt=(0,s.Z)(Ct,2),Pt=wt[0],Bt=wt[1],At={},Ot=function(){var e,a=It[Dt],t=k.filter((function(e){return e.market===a})),s=w.filter((function(e){return e.market===a})),l=(0,r.Z)(new Set(t.map((function(e){return e.commodity})))),n={},o=0,i=(0,R.Z)(l);try{var c=function(){var a=e.value,l=t.filter((function(e){return e.commodity===a})),r=l.reduce((function(e,a){return e+a.purchase_quantity}),0),i=l.reduce((function(e,a){return e+a.purchase_rate}),0),c=s.filter((function(e){return e.commodity===a})),d=c.reduce((function(e,a){return e+a.total_sales}),0),u=c.reduce((function(e,a){return e+a.sales_rate}),0),h=(r-d)*u-r*i;n[a]={commodity:a,totalPurchaseQuantity:r,totalPurchaseRate:i,totalRemainingSalesCalc:d,totalSalesRate:u,netProfit:h},o+=h};for(i.s();!(e=i.n()).done;)c()}catch(d){i.e(d)}finally{i.f()}At[a]=n,At[a].totalNetProfit=o},Dt=0,It=["Karve Nagar","Kondhwa BK","Hadapsar","Undri","Kharadi IT Park","Bramhasun City","Wagholi","Bhavadi Road","Amanora City","Magarpatta","Green City"];Dt<It.length;Dt++)Ot();(0,l.useEffect)((function(){if(tt&&Nt&&Pt){console.log("here");var e=new Date(Nt),a=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),s=("0"+e.getDate()).slice(-2),l="".concat(a,"-").concat(t,"-").concat(s);console.log(l),_.Z.getInward().then((function(e){var a=e.data&&e.data.filter((function(e){return e.market===tt&&e.time.slice(0,10)===l}));console.log(a),i(a)})),_.Z.getOutward().then((function(e){var a=e.data&&e.data.filter((function(e){return e.market===tt&&e.time.slice(0,10)===l}));console.log(a),f(a)})),Bt(!1)}}),[tt,Nt,Pt]);function Tt(e,a){var t=0;w&&(w.forEach((function(a){vt[a.market]===e&&(t+=a.sales_quantity)})),a(t))}function Et(e,a){var t=0;w&&(w.forEach((function(a){vt[a.market]===e&&(t+=a.sales_rate)})),a(t))}function Mt(e,a){var t=0;k&&(o.forEach((function(a){vt[a.market]===e&&(t+=a.purchase_rate)})),a(t))}function Rt(e,a){var t=0;k&&(k.forEach((function(a){vt[a.market]===e&&(t+=a.purchase_quantity)})),a(t))}(0,l.useEffect)((function(){_.Z.getInward().then((function(e){y(e.data)})),_.Z.getOutward().then((function(e){A(e.data)}))}),[]),(0,l.useEffect)((function(){for(var e=0;e<7;e++)0===e?Tt(0,ye):1===e?Tt(1,X):2===e?Tt(2,se):3===e?Tt(3,oe):4===e?Tt(4,ue):5===e?Tt(5,ge):6===e&&Tt(6,je)}),[w]),(0,l.useEffect)((function(){for(var e=0;e<7;e++)0===e?Et(0,Na):1===e?Et(1,aa):2===e?Et(2,na):3===e?Et(3,ca):4===e?Et(4,ma):5===e?Et(5,fa):6===e&&Et(6,_a)}),[w]),(0,l.useEffect)((function(){for(var e=0;e<7;e++)0===e?Mt(0,Xa):1===e?Mt(1,Pa):2===e?Mt(2,Da):3===e?Mt(3,Ma):4===e?Mt(4,Fa):5===e?Mt(5,Wa):6===e&&Mt(6,Ja)}),[k]),(0,l.useEffect)((function(){for(var e=0;e<7;e++)0===e?Rt(0,$e):1===e?Rt(1,Ce):2===e?Rt(2,Ae):3===e?Rt(3,Te):4===e?Rt(4,Le):5===e?Rt(5,He):6===e&&Rt(6,qe)}),[k]),(0,l.useEffect)((function(){var e=0;w&&(w.forEach((function(a){_t===vt[a.market]&&(e+=a.sales_rate)})),H(e))}),[w]);(0,l.useEffect)((function(){var e=0;k&&(k.forEach((function(a){_t===vt[a.market]&&(console.log(a.market),e+=a.purchase_rate)})),z(e))}),[k]),console.log(pt),(0,l.useEffect)((function(){var e=Y.S1(pt.current);console.log(At.Hadapsar.totalNetProfit);var t={xAxis:{type:"category",data:[a("mon"),a("tue"),a("wed"),a("thu"),a("fri"),a("sat"),a("sun")],axisLabel:{show:!0,interval:0,textStyle:{fontSize:12}}},yAxis:{type:"value"},dataGroupId:"",animationDurationUpdate:500,series:[{type:"bar",id:"sales",itemStyle:{color:"lightgreen"},data:[{value:gt[1],groupId:a("tuesday")},{value:At["Karve Nagar"].totalNetProfit+At["Kondhwa BK"].totalNetProfit,groupId:a("tuesday")},{value:At.Hadapsar.totalNetProfit+At.Undri.totalNetProfit,groupId:a("wednesday")},{value:At["Kharadi IT Park"].totalNetProfit,groupId:a("thursday")},{value:At["Bramhasun City"].totalNetProfit+At.Wagholi.totalNetProfit,groupId:a("friday")},{value:At["Bhavadi Road"].totalNetProfit,groupId:a("saturday")},{value:At["Amanora City"].totalNetProfit+At.Magarpatta.totalNetProfit+At["Green City"].totalNetProfit,groupId:a("sunday")}],universalTransition:{enabled:!0,divideShape:"clone"}}]};for(var s in e.setOption(t),console.log("Cumulative Data for all Markets:",At),At)for(var l in console.log("Market: ".concat(s)),At[s]){var n=At[s][l].netProfit;console.log("Commodity: ".concat(l,", Net Profit: ").concat(n))}var o=Object.keys(At["Karve Nagar"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Karve Nagar"][e].netProfit]})),i=Object.keys(At["Kondhwa BK"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Kondhwa BK"][e].netProfit]})),c=Object.keys(At.Hadapsar).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At.Hadapsar[e].netProfit]})),d=Object.keys(At["Kharadi IT Park"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Kharadi IT Park"][e].netProfit]})),u=Object.keys(At.Magarpatta).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At.Magarpatta[e].netProfit]})),h=Object.keys(At["Amanora City"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Amanora City"][e].netProfit]})),m=Object.keys(At["Bramhasun City"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Bramhasun City"][e].netProfit]})),p=Object.keys(At.Wagholi).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At.Wagholi[e].netProfit]})),g=Object.keys(At.Undri).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At.Undri[e].netProfit]})),x=Object.keys(At["Green City"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Green City"][e].netProfit]})),f=Object.keys(At["Bhavadi Road"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Bhavadi Road"][e].netProfit]})),b=[{dataGroupId:a("tuesday"),data:Object.keys(At["Karve Nagar"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Karve Nagar"][e].netProfit]}))},{dataGroupId:a("wednesday"),data:Object.keys(At.Hadapsar).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At.Hadapsar[e].netProfit]}))},{dataGroupId:a("thursday"),data:Object.keys(At["Kharadi IT Park"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,At["Kharadi IT Park"][e].netProfit]}))},{dataGroupId:a("tuesday"),data:[].concat((0,r.Z)(o),(0,r.Z)(i))},{dataGroupId:a("wednesday"),data:[].concat((0,r.Z)(c),(0,r.Z)(g))},{dataGroupId:a("thursday"),data:(0,r.Z)(d)},{dataGroupId:a("friday"),data:[].concat((0,r.Z)(m),(0,r.Z)(p))},{dataGroupId:a("saturday"),data:(0,r.Z)(f)},{dataGroupId:a("sunday"),data:[].concat((0,r.Z)(u),(0,r.Z)(h),(0,r.Z)(x))}];return e.on("click",(function(a){if(a.data){var s=b.find((function(e){return e.dataGroupId===a.data.groupId}));if(!s)return;e.setOption({xAxis:{data:s.data.map((function(e){return e[0]}))},series:{type:"bar",id:"sales",dataGroupId:s.dataGroupId,data:s.data.map((function(e){return e[1]})),universalTransition:{enabled:!0,divideShape:"clone"}},graphic:[{type:"text",left:50,top:20,style:{text:"Back",fontSize:18},onclick:function(){e.setOption(t)}}]})}})),function(){e.dispose()}}),[gt,k]);var Lt=(0,l.useState)(0),Gt=(0,s.Z)(Lt,2),Ft=(Gt[0],Gt[1]);(0,l.useEffect)((function(){var e=0;x.forEach((function(a){e+=a.total_sales})),Ft(e)}),[o]);var Yt=function(){var e=[];return o.forEach((function(a){var t=x.find((function(e){return e.commodity===a.commodity}));if(t){var s=a.purchase_quantity,l=a.purchase_rate,n=(s-t.total_sales)*t.sales_rate-s*l,r=e.find((function(e){return e.commodity===a.commodity}));r?r.profit+=n:e.push({commodity:a.commodity,profit:n})}})),e}();return(0,l.useEffect)((function(){!function(){var e=0,a=0;o.forEach((function(t){var s=x.find((function(e){return e.commodity===t.commodity}));s&&(e+=t.purchase_quantity,a+=s.total_sales)})),ot(e),ut(a)}()}),[o,x]),(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsx)("div",{className:"inOutData"}),(0,B.jsxs)("div",{className:"farmers_page",children:[(0,B.jsx)("div",{className:"backbtndiv",children:(0,B.jsx)(b.rU,{className:"backbtn green backbtndiv",to:"/farmers",children:a("back")})}),o&&x&&(0,B.jsxs)("div",{className:"farmers",children:[(0,B.jsxs)("div",{className:"farmers_data",children:[(0,B.jsxs)(m.ZP,{className:"input-div-holder-new",container:!0,spacing:3,children:[(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,className:"date-input-farmer-home",children:[(0,B.jsx)(u.Z,{className:"farmerDataLabel",children:a("enter_booking_date")}),(0,B.jsx)(G.M,{renderInput:function(e){return(0,B.jsx)(N.Z,(0,M.Z)({},e))},selected:Nt,onChange:function(e){var a=new Date(e),t=a.getDate(),s=a.getMonth()+1,l=a.getFullYear(),n="".concat(t,"/").concat(s,"/").concat(l);console.log(n),St(a)},dateFormat:"dd/MM/yyyy",placeholderText:"Select a date",value:Nt})]}),(0,B.jsxs)(m.ZP,{className:"select-market-grid",item:!0,xs:12,sm:6,children:[(0,B.jsx)(u.Z,{className:"farmerDataLabel",children:a("select_market")}),(0,B.jsxs)(h.Z,{className:"formcontrol",sx:{width:"100%",fontSize:14},children:[(0,B.jsx)(u.Z,{color:"success",className:"stall-booking-lable",children:a("market_label")}),console.log(Pt),(0,B.jsx)(d.Z,{className:"textfield",id:"demo-simple-select-autowidth",value:tt,color:"success",onChange:function(e){Nt?st(e.target.value):Z.Am.warn("Please Select Date!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},label:"address",name:"address",required:!0,children:kt.map((function(e,t){return(0,B.jsx)(c.Z,{value:e.location,children:a(e.location)},t)}))})]})]}),(0,B.jsx)("div",{className:"searchButton",children:(0,B.jsx)(P.Z,{onClick:function(){""===tt?Z.Am.warn("Please Select Market!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):Bt(!0)},className:"btn",type:"submit",variant:"contained",sx:{m:2},children:a("search")})})]}),0!==o.length&&(0,B.jsxs)("div",{className:"inwardData",children:[(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("inward_data")}),(0,B.jsx)("div",{className:"farmersdata_container",children:o.map((function(e,t){return(0,B.jsxs)("div",{className:"farmerdata_items",children:[console.log(e),(0,B.jsxs)("p",{children:[a("commodity")," ",e.commodity]}),(0,B.jsxs)("p",{children:[a("market")," ",e.market]}),(0,B.jsxs)("p",{children:[a("purchase_rate")," ",e.purchase_rate]}),(0,B.jsxs)("p",{children:[a("purchase_quantity")," ",e.purchase_quantity]})]},t)}))})]}),0===o.length&&(0,B.jsxs)("div",{className:"inwardData",children:[(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("inward_data")}),(0,B.jsx)("div",{className:"farmersdata_container",children:a("no_inward_data_available")})]}),0!==x.length&&(0,B.jsxs)("div",{className:"outwardData",children:[console.log(I),(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("outward_data")}),(0,B.jsx)("div",{className:"farmersdata_container",children:x.map((function(e,t){return(0,B.jsxs)("div",{className:"farmerdata_items",children:[(0,B.jsxs)("p",{children:[a("commodity")," ",e.commodity]}),(0,B.jsxs)("p",{children:[a("market")," ",e.market]}),(0,B.jsxs)("p",{children:[a("sales_rate")," ",e.sales_rate]}),(0,B.jsxs)("p",{children:[a("Remaining_Sales")," : ",e.total_sales]})]},t)}))})]}),0===x.length&&(0,B.jsxs)("div",{className:"outwardData",children:[(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("outward_data")}),(0,B.jsx)("div",{className:"farmersdata_container",children:a("no_outward_data_available")})]})]}),(0,B.jsx)("div",{children:0!==o.length?(0,B.jsxs)("div",{style:{display:"Grid",alignItems:"Center",justifyContent:"center",marginTop:"2rem"},children:[(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("Cumulative Sales Data")}),(0,B.jsxs)("div",{className:"farmersdata_container",children:[(0,B.jsxs)("div",{className:"farmerdata_items",children:[(0,B.jsxs)("h3",{children:[a("Total Purchase Quantity"),": ",rt]}),(0,B.jsx)("h3",{children:rt})]}),(0,B.jsxs)("div",{className:"farmerdata_items",children:[(0,B.jsxs)("h3",{children:[a("Total Remaining Sales"),": ",dt]}),(0,B.jsx)("h3",{children:dt})]}),(0,B.jsxs)("div",{className:"farmerdata_items",children:[(0,B.jsxs)("h3",{children:[a("Total Sales"),": ",rt-dt]}),(0,B.jsx)("h3",{children:rt-dt})]})]})]}):console.log("no")}),(0,B.jsx)("div",{children:0!==o.length&&0!==x.length?(0,B.jsxs)("div",{style:{display:"Grid",alignItems:"Center",justifyContent:"center",marginTop:"2rem"},children:[(0,B.jsx)("h3",{style:{padding:"1rem 0"},children:a("profit_loss_label")}),(0,B.jsx)("div",{className:"farmersdata_container",children:(0,B.jsx)("div",{className:"farmerdata_items",children:(0,B.jsx)("h3",{children:Yt.map((function(e,t){return(0,B.jsxs)("div",{children:[a("commodity"),": ",e.commodity,(0,B.jsx)("br",{}),e.profit>0?(0,B.jsxs)("span",{children:[a("Profit of")," ",e.profit,(0,B.jsx)("br",{})]}):(0,B.jsxs)("span",{children:[a("Loss of")," ",Math.abs(e.profit),(0,B.jsx)("br",{})]}),"---"]},t)}))})})})]}):console.log("no")}),(0,B.jsx)("h1",{children:a("market_details")}),(0,B.jsxs)("div",{className:"second-row",children:[(0,B.jsxs)("div",{className:"inwardData",children:[(0,B.jsx)("h3",{style:{padding:"0 0"},children:a("market_days")}),(0,B.jsx)("div",{className:"farmersdata_container",children:(0,B.jsxs)("div",{className:"farmerdata_items",children:[(0,B.jsxs)("p",{children:[a("monday"),"    : None"]}),(0,B.jsxs)("p",{children:[a("tuesday"),"   : ",a("karvenagar_location"),",",a("Kondhwa BK")]}),(0,B.jsxs)("p",{children:[a("wednesday")," : ",a("hadapsar_location"),", ",a("Undri")]}),(0,B.jsxs)("p",{children:[a("thursday"),"  :  ",a("kharadi_iT_park_location")]}),(0,B.jsxs)("p",{children:[a("friday"),"    : ",a("bramhasun_city_location"),", ",a("wagholi_location")," "]}),(0,B.jsxs)("p",{children:[a("saturday"),"  : ",a("Bhavadi Road")]}),(0,B.jsxs)("p",{children:[a("sunday"),"    : ",a("magarpatta_location"),", ",a("amanora_city_location"),", ",a("Green City")]})]})})]}),(0,B.jsx)("div",{className:"graph",ref:pt,style:{width:"85%",height:"350px",alignItems:"center"}})]})]}),!o&&!x&&(0,B.jsx)(L.Z,{}),(0,B.jsx)("div",{className:"pageBottom"})]})]})},W=function(){return(0,B.jsx)("div",{style:{postion:"relative"},children:(0,B.jsx)(n.j3,{})})},U=t(4942),q=t(4708),z=t(89164),J=t(69311),V=t(57012),$=t(45904),Q=(0,J.Z)();function X(e){var a=e.t,t=[{location:a("karvenagar_location")},{location:a("Kondhwa BK")},{location:a("hadapsar_location")},{location:a("Undri")},{location:a("kharadi_iT_park_location")},{location:a("bramhasun_city_location")},{location:a("wagholi_location")},{location:a("Bhavadi Road")},{location:a("magarpatta_location")},{location:a("amanora_city_location")},{location:a("Green City")}],n=[{label:a("Amaranthus")},{label:a("Beet Root")},{label:a("Chukka- sorrel Leaves")},{label:a("Colocasia Leaves")},{label:a("Curry Leaves")},{label:a("Dill")},{label:a("Fenugreek Leaves")},{label:a("Green Amaranth")},{label:a("Spinach")},{label:a("Spring Onion")},{label:a("Sufflower")},{label:a("Chilli")},{label:a(" Colocasia Roots")},{label:a("Cucumber Madras")},{label:a("Kohlrabi")},{label:a("Onion White-Pandhara Kanda")},{label:a("Pointed Gourd")},{label:a("Pumpkin")},{label:a("Raw Jackfruit")},{label:a("Raw Papaya")},{label:a("Sambhar Kanda")},{label:a("Snake Gourd")},{label:a("Spiny Gourd")},{label:a("Sweet Potato")},{label:a("Yam")},{label:a("Asparagus")},{label:a("Avocado")},{label:a("Baby Corn")},{label:a("Baby Potato")},{label:a("Basil")},{label:a("Broccoli")},{label:a("Celery")},{label:a("Cherry Tomato")},{label:a("chinese Cabbage")},{label:a("Coccinia")},{label:a("Green Zucchini")},{label:a("Iceberg Lettuce")},{label:a("Parsley")},{label:a("Red Cabbage")},{label:a("Red Capsicum")},{label:a("Romaine Lettuce")},{label:a("Yellow Capsicum")},{label:a("Yellow Zucchini")},{label:a("Mushroom")},{label:a("Sweet Corn")},{label:a("Sweet Corn Grains")},{label:a("Cabbage")},{label:a("Potato (Agra)")},{label:a("Potato (Indore)")},{label:a("Potato (Talegav)")},{label:a("Beans Double")},{label:a("Bitter Gourd")},{label:a("Brinjal Big")},{label:a("Brinjal Green")},{label:a("Brinjal Long Green")},{label:a("Brinjal Purple")},{label:a("Carrot")},{label:a("Cauliflower")},{label:a("Chavali Beans")},{label:a("Chickpeas - Chana sprouts")},{label:a("chilli - Bhavgagari Mirchi")},{label:a("Chilli Green")},{label:a("chilli Simple")},{label:a("Cluster Beans")},{label:a("Coconut")},{label:a("Colocasia Roots")},{label:a("Coriander")},{label:a("Cucumber")},{label:a("Cucumder Madras")},{label:a("Cucumber Madras- Sambar Kakadi")},{label:a("Cucumber Polyhouse- English Kakadi")},{label:a("Drum Sticks")},{label:a("Field Beans")},{label:a("Fresh Peeled Green Peas")},{label:a("Garlic")},{label:a("Ginger")},{label:a("Green Capsicum")},{label:a("Green Mango")},{label:a("Green Peas")},{label:a("Groundnut Pods")},{label:a("Tamarind")},{label:a("Lady Finger")},{label:a("Lemon Grass")},{label:a("Mint")},{label:a("Onion")},{label:a("Onion Sambhar")},{label:a("Lima Beans")},{label:a("Peeled Garlic")},{label:a("Potato")},{label:a("Radish")},{label:a("Ridgegourd")},{label:a("Sponge Gourd")},{label:a("Tomato")},{label:a("Wal")},{label:a("Wal Broad")},{label:a("Wal surati")},{label:a("Water Chestnuts")},{label:a("Apple Fuji")},{label:a("Apple Green")},{label:a("Apple Kinnaur")},{label:a("Apple Red Delicious")},{label:a("Apple Shimla Big")},{label:a("Kiwi")},{label:a("Litchi")},{label:a("Strawberry")},{label:a("Grapes Black")},{label:a("Grapes Green")},{label:a("Jambhul")},{label:a("Mango Badami (For Juice)")},{label:a("Mango Devgad Hapus")},{label:a("Mango Keshar")},{label:a("Mango Lalbag")},{label:a("Mango Payri")},{label:a("Mango Ratnagiri Hapus")},{label:a("Mango Totapuri")},{label:a("Muskmelon")},{label:a("Watermelon Kiran")},{label:a("Watermelon Regular")},{label:a("Amla")},{label:a("Apple Gourd")},{label:a("Ashgourd")},{label:a("Banana")},{label:a("Custard-apple")},{label:a("Elaichi Banana")},{label:a("Figs")},{label:a("Guava")},{label:a("Jackfruit Peeled")},{label:a("Jujube - Ber")},{label:a("Orange Small")},{label:a("Orange Kinnow")},{label:a("Papaya")},{label:a("Pear Imported")},{label:a("Pomogranate")},{label:a("Raw Banana")},{label:a("Sapodilla")},{label:a("Sugarcane")},{label:a("Sweet Lime")},{label:a("Tender")}],r=(0,l.useState)({purchase_quantity:void 0,purchase_rate:void 0,market:""}),o=(0,s.Z)(r,2),i=o[0],u=o[1],p=(0,l.useState)(""),g=(0,s.Z)(p,2),x=g[0],f=g[1],j=function(e){console.log(e.target.value);var a=e.target,t=a.name,s=a.value;u((function(e){return(0,M.Z)((0,M.Z)({},e),{},(0,U.Z)({},t,s))}))},v=(0,l.useState)(!1),k=(0,s.Z)(v,2),w=(k[0],k[1]),A=(0,F.Z)().width;return(0,l.useEffect)((function(){w(A<850)}),[A]),console.log(i),(0,B.jsxs)("div",{className:"data_container",children:[(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsx)(V.Z,{theme:Q,children:(0,B.jsxs)(z.Z,{className:"main",component:"main",maxWidth:"sm",sx:{width:"100%"},children:[(0,B.jsx)(q.ZP,{}),(0,B.jsx)(b.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},children:a("back")}),(0,B.jsxs)(C.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px 0px 10px 0px",height:"100%",width:"100%"},children:[(0,B.jsxs)(S.Z,{component:"h1",variant:"h4",fontFamily:"Arturo",sx:{marginBottom:"1.5rem"},children:[a("farmer_inward_data")," !!"]}),(0,B.jsxs)(C.Z,{component:"form",onSubmit:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.purchase_quantity&&i.purchase_rate&&i.market&&t?_.Z.postInward(x,i.purchase_quantity,i.purchase_rate,i.market,t).then((function(){Z.Am.success(a("inward_data_added_successfully"),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),1e3)}),(function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({market:"",purchase_rate:0,purchase_quantity:0}),f("")})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:0,marginTop:"-0.5rem",width:"100%"},children:[(0,B.jsxs)(m.ZP,{container:!0,spacing:0,children:[(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%",height:"70px"},children:[(0,B.jsx)(S.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:a("select_market")}),(0,B.jsx)(d.Z,{style:{height:"40px"},className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:i.market,onChange:j,name:"market",required:!0,color:"success",children:t.map((function(e,a){return(0,B.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsx)(S.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:a("select_one_commodity")}),(0,B.jsx)($.Z,{style:{height:"40px"},className:"textfield",isOptionEqualToValue:function(e,a){return!!a&&e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return f(null===a||void 0===a?void 0:a.label)},value:x,options:n,sx:{width:"100%"},renderInput:function(e){return(0,B.jsx)(N.Z,(0,M.Z)({color:"success",className:"textfield",name:"commodity",style:{height:"100%"}},e))}})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsxs)(S.Z,{className:"stall-booking-lable",style:{marginTop:"1rem"},fontFamily:"Arturo",children:[a("purchase_quantity"),' "kg"',(0,B.jsx)("sup",{children:"*"})]}),(0,B.jsx)(N.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_quantity",value:i.purchase_quantity,onChange:j,type:"number",id:"purchase quantity",autoComplete:"new-purchase quantity"})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsxs)(S.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:[a("purchase_rate")," (Rs/kg)",(0,B.jsx)("sup",{children:"*"})]}),(0,B.jsx)(N.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_rate",value:i.purchase_rate,onChange:j,type:"number",id:"purchase rate",autoComplete:"new-purchase rate"})]})})]}),(0,B.jsxs)(m.ZP,{className:"add-submit",children:[(0,B.jsx)(P.Z,{className:"btn",onClick:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.purchase_quantity&&i.purchase_rate&&i.market&&t?_.Z.postInward(x,i.purchase_quantity,i.purchase_rate,i.market,t).then((function(){Z.Am.success(a("inward_data_added_successfully"),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({purchase_quantity:"",purchase_rate:"",market:i.market}),f("")}),(function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({market:i.market,purchase_rate:0,purchase_quantity:0}),f("")})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},children:a("add")}),(0,B.jsx)(P.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},fontFamily:"Arturo",children:a("submit")})]})]})]}),(0,B.jsx)("div",{className:"pageBottom"})]})})]})}var ee=t(20792),ae={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"80%",overflow:"auto",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function te(e){var a=e.Delete,t=e.id,n=e.t,r=l.useState(!1),o=(0,s.Z)(r,2),i=o[0],c=o[1],d=function(){return c(!1)};return(0,B.jsxs)("div",{style:{textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:[(0,B.jsx)(P.Z,{onClick:function(){return c(!0)},children:"Cancel Booking"}),(0,B.jsx)(ee.Z,{open:i,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,B.jsxs)(C.Z,{sx:ae,children:[(0,B.jsx)("button",{className:"closebtn",onClick:d,style:{marginLeft:"-250px",marginTop:"-15px"},children:"\xd7"}),(0,B.jsxs)("div",{className:"terms_and_conditions",children:[(0,B.jsx)("h1",{children:n("Terms_of_service")}),(0,B.jsx)("br",{}),(0,B.jsx)("h2",{children:n("wingrow_farmers_market")}),(0,B.jsx)("h3",{class:"city",children:n("role_of_wingrow_agritech")}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("role_para_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("role_para_2")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("role_para_3")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("role_para_4")}),(0,B.jsx)("br",{})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("personal_information")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("personal_info_para_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("account_and_registration_obligations")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("acc_and_registration_obligations_para")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("LICENSE_&_SITE_ACCESS")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("LICENSE_&_SITE_ACCESS_PARA")}),(0,B.jsx)("br",{}),(0,B.jsxs)("h3",{class:"city",children:[n("pricing")," "]}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("pricing_para")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("return_and_refunds")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("return_and_refunds_para")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("cancellation_of_booking")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("cancellation_booking_para_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("cancellation_booking_para_2")})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("PAYMENT_FOR_BOOKING_AND_ANY_ADDITIONAL_CHARGES")}),(0,B.jsx)("br",{}),(0,B.jsx)("h4",{children:n("FULL_PAYMENT")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("Full_payment_para")}),(0,B.jsx)("br",{}),(0,B.jsx)("h4",{children:n("CANCELLATION_CHARGES")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:(0,B.jsxs)("table",{style:{width:"100%"},children:[(0,B.jsxs)("tr",{children:[(0,B.jsx)("th",{children:n("cancellation_charges_head_1")}),(0,B.jsx)("th",{children:n("cancellation_charges_head_2")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:n("cancellation_data_1")}),(0,B.jsx)("td",{children:n("cancellation_data_2")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:n("cancellation_data_3")}),(0,B.jsx)("td",{children:n("cancellation_data_4")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:n("cancellation_data_5")}),(0,B.jsx)("td",{children:n("cancellation_data_6")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:n("cancellation_data_6")}),(0,B.jsx)("td",{children:n("cancellation_data_7")})]}),(0,B.jsxs)("tr",{children:[(0,B.jsx)("td",{children:n("cancellation_data_9")}),(0,B.jsx)("td",{children:n("cancellation_data_10")})]})]})}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("YOU_AGREE_AND_CONFIRM")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("confirm_para_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("confirm_para_2")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("confirm_para_3")}),(0,B.jsx)("br",{}),(0,B.jsx)("li",{children:n("confirm_para_4")})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("not_use_for_these")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("not_use_for_these_1")}),(0,B.jsx)("li",{children:n("not_use_for_these_2")}),(0,B.jsx)("li",{children:n("not_use_for_these_3")}),(0,B.jsx)("li",{children:n("not_use_for_these_4")}),(0,B.jsx)("li",{children:n("not_use_for_these_5")}),(0,B.jsx)("li",{children:n("not_use_for_these_6")}),(0,B.jsx)("li",{children:n("not_use_for_these_7")})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("modification_of_t_and_c")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("modification_t_and_c_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("COPYRIGHT_&_TRADEMARK")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("copyright_and_trademark_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("OBJECTIONABLE_MATERIAL")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("objectionable_material_1")}),(0,B.jsx)("br",{}),(0,B.jsxs)("h3",{class:"city",children:[n("INDEMNITY")," "]}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("indemnity_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("TERMINATION")}),(0,B.jsx)("br",{}),(0,B.jsx)("p",{children:n("termination_1")}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("RESCHEDULING_OF_TICKET")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("rescheduling_ticket_1")}),(0,B.jsx)("li",{children:n("rescheduling_ticket_2")}),(0,B.jsx)("li",{children:n("rescheduling_ticket_3")}),(0,B.jsx)("li",{children:n("rescheduling_ticket_4")}),(0,B.jsx)("li",{children:n("rescheduling_ticket_5")})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("responsibilities")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("responsibilities_1")}),(0,B.jsx)("li",{children:n("responsibilities_2")}),(0,B.jsx)("li",{children:n("responsibilities_3")}),(0,B.jsx)("li",{children:n("responsibilities_4")}),(0,B.jsx)("li",{children:n("responsibilities_5")})]}),(0,B.jsx)("br",{}),(0,B.jsx)("h3",{class:"city",children:n("MISCELLANEOUS")}),(0,B.jsx)("br",{}),(0,B.jsxs)("p",{children:[(0,B.jsx)("li",{children:n("MISCELLANEOUS_1")}),(0,B.jsx)("li",{children:n("MISCELLANEOUS_2")}),(0,B.jsx)("li",{children:n("MISCELLANEOUS_3")}),(0,B.jsx)("li",{children:n("MISCELLANEOUS_4")})]}),(0,B.jsx)("br",{}),(0,B.jsx)(P.Z,{id:t,onClick:function(e){a(e),d()},children:"Confirm Delete?"})]})]})})]})}var se=function(e){var a=e.t,t=j.Z.getCurrentUser(),n=(0,l.useState)(),r=(0,s.Z)(n,2),o=r[0],i=r[1],c=0,d="http://localhost:4000/";(0,l.useEffect)((function(){_.Z.getBookedStalls().then((function(e){var a=e.data.filter((function(e){return e.bookedBy===t.id})).sort((function(e,a){return new Date(a.bookedAt)-new Date(e.bookedAt)}));i(a)}))}),[t]);var u=function(e){var a=e.target.id,l=o.filter((function(e){return e._id===a})),n=(0,s.Z)(l,1)[0];n.cancelledAt=y()(Date.now()).format("YYYY-MM-DD"),n.bookedBy=t.id,n.firstname=t.firstname,n.lastname=t.lastname,n.phone=t.phone,console.log("data - ",n),g().post(d+"cancelledstalls",n,{headers:(0,f.Z)()}),g().delete(d+"bookedstalls",{headers:(0,f.Z)(),data:{id:a}}).then((function(e){if(e){var a=e.data,t=o.filter((function(e){return e._id!==a._id}));i(t),Z.Am.success("Cancelled successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}else Z.Am.warn("Failed to cancel booking!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}))},h=(0,l.useState)(!1),m=(0,s.Z)(h,2),p=(m[0],m[1]),x=(0,F.Z)().width;return(0,l.useEffect)((function(){p(x<850)}),[x]),(0,B.jsxs)(B.Fragment,{children:[o?(0,B.jsxs)("div",{className:"bookings_container",children:[c=o.length,console.log(c),(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsxs)("div",{className:"booking_content",children:[(0,B.jsx)("div",{className:"booking_cards",children:(0,B.jsx)("div",{className:"backbtndiv",children:(0,B.jsx)(b.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginLeft:"-1100px"},children:a("back")})})}),(0,B.jsx)("div",{className:"card_booking",children:o.map((function(e,t){var s=e.bookedAt<y()(Date.now()).format("YYYY-MM-DD");return(0,B.jsx)("div",{className:"cards_section",children:(0,B.jsx)("div",{className:"card",children:(0,B.jsxs)("div",{className:"card_content",children:[s&&(0,B.jsx)("h2",{style:{color:"red",textAlign:"center"},children:"Booking Expired"}),(0,B.jsx)("br",{}),(0,B.jsx)("h2",{className:"card_header",children:(0,B.jsxs)("span",{children:["Stall No : ",c--]})}),(0,B.jsx)("p",{className:"card_para",children:e.location}),(0,B.jsx)("p",{className:"card_para",children:e.address}),(0,B.jsx)("p",{className:"card_para",children:e.stallName}),(0,B.jsx)("p",{className:"card_para",children:e.bookedAt}),(0,B.jsx)("span",{children:s?(0,B.jsx)("div",{style:{cursor:"not-allowed",padding:"4px",backgroundColor:"gray",border:"none",marginTop:"10px",textAlign:"center"},children:"Booking Expired"}):(0,B.jsx)("span",{children:(0,B.jsx)(te,{t:a,Delete:u,id:e._id})})})]})})},t)}))})]})]}):(0,B.jsx)(L.Z,{}),(0,B.jsx)("div",{className:"pageBottom"})]})},le=(0,J.Z)();function ne(e){var a=e.t,t=[{location:a("karvenagar_location")},{location:a("Kondhwa BK")},{location:a("hadapsar_location")},{location:a("Undri")},{location:a("kharadi_iT_park_location")},{location:a("bramhasun_city_location")},{location:a("wagholi_location")},{location:a("Bhavadi Road")},{location:a("magarpatta_location")},{location:a("amanora_city_location")},{location:a("Green City")}],n=[{label:a("Amaranthus")},{label:a("Beet Root")},{label:a("Chukka- sorrel Leaves")},{label:a("Colocasia Leaves")},{label:a("Curry Leaves")},{label:a("Dill")},{label:a("Fenugreek Leaves")},{label:a("Green Amaranth")},{label:a("Spinach")},{label:a("Spring Onion")},{label:a("Sufflower")},{label:a("Chilli")},{label:a(" Colocasia Roots")},{label:a("Cucumber Madras")},{label:a("Kohlrabi")},{label:a("Onion White-Pandhara Kanda")},{label:a("Pointed Gourd")},{label:a("Pumpkin")},{label:a("Raw Jackfruit")},{label:a("Raw Papaya")},{label:a("Sambhar Kanda")},{label:a("Snake Gourd")},{label:a("Spiny Gourd")},{label:a("Sweet Potato")},{label:a("Yam")},{label:a("Asparagus")},{label:a("Avocado")},{label:a("Baby Corn")},{label:a("Baby Potato")},{label:a("Basil")},{label:a("Broccoli")},{label:a("Celery")},{label:a("Cherry Tomato")},{label:a("chinese Cabbage")},{label:a("Coccinia")},{label:a("Green Zucchini")},{label:a("Iceberg Lettuce")},{label:a("Parsley")},{label:a("Red Cabbage")},{label:a("Red Capsicum")},{label:a("Romaine Lettuce")},{label:a("Yellow Capsicum")},{label:a("Yellow Zucchini")},{label:a("Mushroom")},{label:a("Sweet Corn")},{label:a("Sweet Corn Grains")},{label:a("Cabbage")},{label:a("Potato (Agra)")},{label:a("Potato (Indore)")},{label:a("Potato (Talegav)")},{label:a("Beans Double")},{label:a("Bitter Gourd")},{label:a("Brinjal Big")},{label:a("Brinjal Green")},{label:a("Brinjal Long Green")},{label:a("Brinjal Purple")},{label:a("Carrot")},{label:a("Cauliflower")},{label:a("Chavali Beans")},{label:a("Chickpeas - Chana sprouts")},{label:a("chilli - Bhavgagari Mirchi")},{label:a("Chilli Green")},{label:a("chilli Simple")},{label:a("Cluster Beans")},{label:a("Coconut")},{label:a("Colocasia Roots")},{label:a("Coriander")},{label:a("Cucumber")},{label:a("Cucumder Madras")},{label:a("Cucumber Madras- Sambar Kakadi")},{label:a("Cucumber Polyhouse- English Kakadi")},{label:a("Drum Sticks")},{label:a("Field Beans")},{label:a("Fresh Peeled Green Peas")},{label:a("Garlic")},{label:a("Ginger")},{label:a("Green Capsicum")},{label:a("Green Mango")},{label:a("Green Peas")},{label:a("Groundnut Pods")},{label:a("Tamarind")},{label:a("Lady Finger")},{label:a("Lemon Grass")},{label:a("Mint")},{label:a("Onion")},{label:a("Onion Sambhar")},{label:a("Lima Beans")},{label:a("Peeled Garlic")},{label:a("Potato")},{label:a("Radish")},{label:a("Ridgegourd")},{label:a("Sponge Gourd")},{label:a("Tomato")},{label:a("Wal")},{label:a("Wal Broad")},{label:a("Wal surati")},{label:a("Water Chestnuts")},{label:a("Apple Fuji")},{label:a("Apple Green")},{label:a("Apple Kinnaur")},{label:a("Apple Red Delicious")},{label:a("Apple Shimla Big")},{label:a("Kiwi")},{label:a("Litchi")},{label:a("Strawberry")},{label:a("Grapes Black")},{label:a("Grapes Green")},{label:a("Jambhul")},{label:a("Mango Badami (For Juice)")},{label:a("Mango Devgad Hapus")},{label:a("Mango Keshar")},{label:a("Mango Lalbag")},{label:a("Mango Payri")},{label:a("Mango Ratnagiri Hapus")},{label:a("Mango Totapuri")},{label:a("Muskmelon")},{label:a("Watermelon Kiran")},{label:a("Watermelon Regular")},{label:a("Amla")},{label:a("Apple Gourd")},{label:a("Ashgourd")},{label:a("Banana")},{label:a("Custard-apple")},{label:a("Elaichi Banana")},{label:a("Figs")},{label:a("Guava")},{label:a("Jackfruit Peeled")},{label:a("Jujube - Ber")},{label:a("Orange Small")},{label:a("Orange Kinnow")},{label:a("Papaya")},{label:a("Pear Imported")},{label:a("Pomogranate")},{label:a("Raw Banana")},{label:a("Sapodilla")},{label:a("Sugarcane")},{label:a("Sweet Lime")},{label:a("Tender")}],r=(0,l.useState)({total_sales:void 0,sales_rate:void 0,market:""}),o=(0,s.Z)(r,2),i=o[0],u=o[1],p=(0,l.useState)(""),g=(0,s.Z)(p,2),x=g[0],f=g[1],j=function(e){var a=e.target,t=a.name,s=a.value;console.log(t+" "+s),u((function(e){return(0,M.Z)((0,M.Z)({},e),{},(0,U.Z)({},t,s))}))},v=(0,l.useState)(!1),k=(0,s.Z)(v,2),w=(k[0],k[1]),A=(0,F.Z)().width;return(0,l.useEffect)((function(){w(A<850)}),[A]),(0,B.jsxs)("div",{className:"data_container",children:[(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:1e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsx)(V.Z,{theme:le,children:(0,B.jsxs)(z.Z,{className:"main",component:"main",maxWidth:"sm",children:[(0,B.jsx)(q.ZP,{}),(0,B.jsx)(b.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{marginLeft:"20px",marginBottom:"10px",marginTop:"0px",position:"relative",top:"15px"},children:a("back")}),(0,B.jsxs)(C.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px 0px 10px 0px",height:"100%",width:"100%"},children:[(0,B.jsxs)(S.Z,{component:"h1",variant:"h4",className:"outward-heading",sx:{marginBottom:"1.5rem"},children:[a("farmer_outward_data"),"!!"]}),(0,B.jsxs)(C.Z,{component:"form",onSubmit:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.total_sales&&i.sales_rate&&i.market&&t?_.Z.postOutward(x,i.total_sales,i.sales_rate,i.market,t).then((function(){Z.Am.success(a("outward_data_added_successfully"),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),1e3)}),(function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({market:"",total_sales:0,sales_rate:0}),f("")})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:0,marginTop:"-2.5rem",width:"100%"},children:[(0,B.jsxs)(m.ZP,{container:!0,spacing:0,children:[(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%",height:"70px"},children:[(0,B.jsx)(S.Z,{className:"stall-booking-lable",children:a("select_market")}),(0,B.jsx)(d.Z,{style:{height:"40px"},className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:i.market,onChange:j,name:"market",required:!0,color:"success",children:t.map((function(e,a){return(0,B.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsx)(S.Z,{className:"stall-booking-lable",children:a("select_one_commodity")}),(0,B.jsx)($.Z,{style:{height:"40px"},className:"textfield",isOptionEqualToValue:function(e,a){return!!a&&e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return f(null===a||void 0===a?void 0:a.label)},value:x,options:n,sx:{width:"100%"},renderInput:function(e){return(0,B.jsx)(N.Z,(0,M.Z)({color:"success",className:"textfield",name:"commodity",style:{height:"100%"}},e))}})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsxs)(S.Z,{className:"stall-booking-lable",children:[a("Remaining_Sales")," (Rs/kg)",(0,B.jsx)("sup",{children:"*"})]}),(0,B.jsx)(N.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"total_sales",value:i.total_sales,onChange:j,type:"number",id:"total sales",autoComplete:"new-total sales"})]})}),(0,B.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,B.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,B.jsxs)(S.Z,{className:"stall-booking-lable",children:[a("sales_rate")," (Rs/kg)",(0,B.jsx)("sup",{children:"*"})]}),(0,B.jsx)(N.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"sales_rate",value:i.sales_rate,onChange:j,type:"number",id:"sales rate",autoComplete:"new-sales rate"})]})})]}),(0,B.jsxs)(m.ZP,{className:"add-submit",children:[(0,B.jsx)(P.Z,{className:"btn",onClick:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.total_sales&&i.sales_rate&&i.market&&t?_.Z.postOutward(x,i.total_sales,i.sales_rate,i.market,t).then((function(){Z.Am.success(a("outward_data_added_successfully"),{position:"top-center",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({sales_rate:"",total_sales:"",market:i.market}),f("")})).catch((function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:1e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},children:a("add")}),(0,B.jsx)(P.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},children:a("submit")})]})]})]}),(0,B.jsx)("div",{className:"pageBottom"})]})})]})}var re=function(e){var a=e.t,t=(0,l.useState)(),r=(0,s.Z)(t,2),o=r[0],i=r[1],c=new Set,d=[],u=["Wednesday(3-9PM) ","Tuesday(3-9PM)","Sunday(3-9PM)","Sunday(7-9PM)","Friday(3-9PM)","Thursday (3-9PM)","Friday(3-9PM)","Wednesday(3-9PM)","Saturday(3-9PM)","Thuesday(3-9PM)","Sunday (3-9PM)","Sunday"],h=(0,n.s0)();if(o){var m,p=(0,R.Z)(o);try{for(p.s();!(m=p.n()).done;){var g=m.value;c.add(g.location)}}catch(S){p.e(S)}finally{p.f()}}var x,f=(0,R.Z)(c);try{for(f.s();!(x=f.n()).done;){var j=x.value;d.push(j),console.log(d[0])}}catch(S){f.e(S)}finally{f.f()}(0,l.useEffect)((function(){_.Z.getMyStalls().then((function(e){i(e.data),console.log(e.data)}))}),[]);var v=function(e){var a=e.target.id;h("stalls/".concat(a))},k=(0,l.useState)(!1),y=(0,s.Z)(k,2),Z=(y[0],y[1]),N=(0,F.Z)().width;return(0,l.useEffect)((function(){Z(N<850)}),[N]),(0,B.jsxs)(B.Fragment,{children:[o&&(0,B.jsxs)("div",{className:"places_market_container",children:[(0,B.jsxs)("div",{className:"backbtnflex",children:[(0,B.jsx)(b.rU,{style:{marginTop:"16px"},className:"backbtn green flex",to:"/farmers",children:a("back")}),(0,B.jsx)("h2",{className:"main_header_places",children:a("Select Wingrow Market From Pune..")})]}),(0,B.jsx)("div",{className:"places_wrapper",children:d&&d.map((function(e,t){return(0,B.jsxs)("div",{onClick:v,id:e,className:"places_market_component".concat(t%4),children:[(0,B.jsx)("img",{id:e,alt:"logo",className:"image_1",src:"../images/4.webp"}),(0,B.jsxs)("div",{id:e,children:[console.log(e),(0,B.jsxs)("span",{id:e,className:"places_headers",children:[a("Wingrow Market in")," ",(0,B.jsx)("br",{}),a(e)," ",(0,B.jsx)("br",{}),u[t]]})]})]},e)}))})]}),!o&&(0,B.jsx)(L.Z,{}),(0,B.jsx)("div",{className:"pageBottom"})]})},oe=(t(91817),t(55653)),ie=(t(16386),(0,t(87551).Z)({arrowIcon:{position:"relative",top:"5rem"}})),ce=j.Z.getCurrentUser();var de=function(e){var a=e.setbookingDetails,t=(e.setValue,e.t),c=(ie(),(0,n.s0)()),d="http://localhost:4000/",h=(0,l.useState)(),p=(0,s.Z)(h,2),j=p[0],k=p[1],A=(0,l.useState)([]),O=(0,s.Z)(A,2),D=(O[0],O[1],(0,l.useState)()),I=(0,s.Z)(D,2),T=I[0],E=I[1],R=(0,l.useState)(0),Y=(0,s.Z)(R,2),H=Y[0],K=Y[1],W=(0,l.useState)([]),U=(0,s.Z)(W,2),q=U[0],z=U[1],J=(0,l.useState)(),V=(0,s.Z)(J,2),$=V[0],Q=V[1],X=(0,n.UO)().Id,ee=(0,l.useState)(0),ae=(0,s.Z)(ee,2),te=ae[0],se=ae[1],le=(0,l.useState)(!1),ne=(0,s.Z)(le,2),re=ne[0],de=ne[1],ue=(0,l.useState)(),he=(0,s.Z)(ue,2),me=he[0],pe=he[1],ge=(0,l.useState)(0),xe=(0,s.Z)(ge,2),fe=xe[0],be=xe[1],je=(0,l.useState)(),ve=(0,s.Z)(je,2),_e=(ve[0],ve[1]),ke=(0,l.useState)([]),ye=(0,s.Z)(ke,2),Ze=(ye[0],ye[1]),Ne=(0,l.useState)(),Se=(0,s.Z)(Ne,2),Ce=Se[0],we=Se[1],Pe=(0,l.useState)(0),Be=(0,s.Z)(Pe,2),Ae=Be[0],Oe=Be[1],De=(0,l.useState)(0),Ie=(0,s.Z)(De,2),Te=Ie[0],Ee=Ie[1],Me=(0,l.useState)(0),Re=(0,s.Z)(Me,2),Le=Re[0],Ge=Re[1],Fe=(0,l.useState)(8),Ye=(0,s.Z)(Fe,2),He=Ye[0],Ke=Ye[1],We=(0,l.useState)(!1),Ue=(0,s.Z)(We,2),qe=Ue[0],ze=Ue[1],Je=(0,l.useState)(0),Ve=(0,s.Z)(Je,2),$e=Ve[0],Qe=Ve[1],Xe=(0,l.useState)(0),ea=(0,s.Z)(Xe,2),aa=ea[0],ta=ea[1],sa=new Date,la=(0,l.useState)(""),na=(0,s.Z)(la,2),ra=na[0],oa=na[1],ia=(0,l.useState)(),ca=(0,s.Z)(ia,2),da=ca[0],ua=ca[1],ha=(sa.toISOString().slice(0,10),(0,l.useState)(null)),ma=(0,s.Z)(ha,2),pa=ma[0],ga=ma[1],xa=(0,l.useState)(10),fa=(0,s.Z)(xa,2),ba=fa[0],ja=fa[1],va=(0,l.useState)(""),_a=(0,s.Z)(va,2),ka=_a[0],ya=(_a[1],(0,l.useState)("")),Za=(0,s.Z)(ya,2),Na=Za[0],Sa=Za[1],Ca=(0,l.useState)("Please select stalls"),wa=(0,s.Z)(Ca,2),Pa=(wa[0],wa[1],(0,l.useState)([])),Ba=(0,s.Z)(Pa,2),Aa=Ba[0],Oa=Ba[1],Da=(0,l.useState)(0),Ia=(0,s.Z)(Da,2),Ta=Ia[0],Ea=Ia[1],Ma={"Karve Nagar":2,"Kondhwa BK":2,Hadapsar:3,Undri:3,"Kharadi IT Park":4,"Bramhasun City":5,Wagholi:5,"Bhavadi Road":6,"Amanora City":7,Magarpatta:7,"Green City":7},Ra=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],La=(0,l.useState)(!1),Ga=(0,s.Z)(La,2),Fa=(Ga[0],Ga[1]);(0,l.useEffect)((function(){var e=window.matchMedia("(max-width: 767px)");Fa(e.matches),Ea(Ma[X]);var a=function(){return Fa(e.matches)};return e.addListener(a),function(){e.removeListener(a)}}),[]),(0,l.useEffect)((function(){Q(!0),_.Z.getMyStalls().then((function(e){Q(!1),console.log("response ",e.data),k(e.data)})),null!==pa&&(_.Z.getBookedStalls().then((function(e){var a=e.data&&e.data.filter((function(e){return e.location==="".concat(X)&&e.bookedAt===pa}));pe(e.data),be(a.length),console.log("alreadyBooked:",a)})),Ya(!0)),oe.Z.getSub(ce.id).then((function(e){var a=e.data;if(console.log("all the subscriptions :",a),console.log("helllooooooo ",a[a.length-1]),0!==a.length){if("active"===a[a.length-1].status){Ze(a),de(!0),!0,ua(a[a.length-1]._id),Ke(a[a.length-1].stalls);var t=Math.min(Number(a[a.length-1].stalls),3);console.log(t),ja(t)}else ja(1e3),de(!1),!1;var s=new Date(a[a.length-1].date),l=s.getFullYear(),n=Number(s.getMonth()),r=Number(s.getDate()),o=new Date(l,n,r+90),i=y()(o).format("YYYY-MM-DD");console.log(i),Oe(a[a.length-1].first),Ee(a[a.length-1].second),Ge(a[a.length-1].third);var c=new Date(i);console.log("status :",re),console.log(sa,c),we(i),sa>c&&(de(!1),!1,ja(1e3));var d=String(l)+"-"+String(n)+"-"+String(r);console.log("",d),console.log("status :",re)}}))}),[pa,X,re]);var Ya=function(){return _e(!0)};(0,l.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,l.useEffect)((function(){var e=j&&j.filter((function(e){return e.location==="".concat(X)}));console.log("updated data acc to loc:",e),E(e)}),[X,j]),(0,l.useEffect)((function(){T&&(Qe(T.length),ta($e-fe))}),[T]);var Ha=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(s){var l,n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=q.reduce((function(e,a){return a.stallPrice+e}),0),0!==q.length){e.next=4;break}return Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 4:q.toString(),n={location:X,bookedStalls:q,bookedBy:ce.id,bookedAt:pa,isBooked:!0},r=[],q.forEach((function(e){r.push(e.stallName)})),i=d+"bookedstalls","123",g().post(i,n,{headers:(0,f.Z)()}).then((function(e){e.data&&a({farmer:ce.firstname+" "+ce.lastname,phone:ce.phone,paymentDetails:"123",BookedStalls:r,stallsBooked:q.length,totalAmount:l,address:q[0].address}),Z.Am.success(t("stalls_booked_successfully"),{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){c("../ticket")}),1e3)})).catch((function(e){Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),z([]),K(0)}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ka=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var s,l,n,r,i,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==re){e.next=14;break}return console.log("selected stalls : ",Aa),s=He-q.length,console.log("new stall number",s),Ke(s),l=Number(Ae),n=Number(Te),r=Number(Le),e.next=10,g().put(d+"changeStalls",{subId:da,s:s,firstF:l,secondF:n,thirdF:r}).then((function(e){e.data;console.log("passed")})).catch((function(e){console.log("failed")}));case 10:if(0!==He){e.next=14;break}return"expired",e.next=14,g().put(d+"changestatus",{subId:da,s:"expired"}).then((function(e){window.location.reload(!1),console.log("passed")})).catch((function(e){console.log("failed")}));case 14:if(0===q.length){e.next=34;break}if(!qe){e.next=19;break}Ha(),e.next=32;break;case 19:if(i=q.reduce((function(e,a){return a.stallPrice+e}),0),0!==q.length){e.next=23;break}return Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 23:return e.prev=23,c={purpose:"Product name",amount:i,currency:"INR",buyer_name:ce.name,email:ce.email,phone:ce.phone,send_email:!1,send_sms:!1,allow_repeated_payments:!1,webhook:"",redirect_url:"http://localhost:3000/farmers/stallplaces/stalls/callback?user_id=".concat(ce.id,"}")},u=d+"pay",e.next=28,g().post(u,c,{headers:(0,f.Z)()}).then((function(e){console.log(e.data),Wa(e.data),window.location.href=e.data})).catch((function(e){return console.log(e.response.data)}));case 28:e.next=32;break;case 30:e.prev=30,e.t0=e.catch(23);case 32:e.next=35;break;case 34:Z.Am.warn(t("please_select_stalls")+"!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 35:case"end":return e.stop()}}),e,null,[[23,30]])})));return function(a){return e.apply(this,arguments)}}(),Wa=function(e){q.toString(),e.amount,e.currency,e.id,function(){var e=(0,i.Z)((0,o.Z)().mark((function e(s){var l,n,r,i,u,h,m,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,qe){e.next=10;break}return n=d+"verify",e.next=5,g().post(n,s,{headers:(0,f.Z)()});case 5:r=e.sent,i=r.data,l=i.orderId,e.next=11;break;case 10:l="123";case 11:u={location:X,bookedStalls:q,bookedBy:ce.id,bookedAt:pa,isBooked:!0},h=[],q.forEach((function(e){h.push(e.stallName)})),m=q.reduce((function(e,a){return a.stallPrice+e}),0),p=d+"bookedstalls",g().post(p,u,{headers:(0,f.Z)()}).then((function(e){e.data&&a({farmer:ce.firstname+" "+ce.lastname,phone:ce.phone,paymentDetails:l,BookedStalls:h,stallsBooked:q.length,totalAmount:m,address:q[0].address}),Z.Am.success(t("stalls_booked_successfully"),{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){c("../ticket")}),1e3)})).catch((function(e){Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),z([]),K(0)})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),z([]),K(0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})))}()},Ua=function(e){if(H&&"booked"!==e.target.className){var a=parseInt(H,20);if(q.length<=a){if(Aa.includes(e.target.id)){console.log("no "+Aa);var t=e.target.id,s=q.filter((function(e){return e._id!==t}));if(s.length!==q.length){if(z(s),ta(aa+1),oa(""),!0===re)300===(o=q[0].stallPrice)?Oe(Ae+1):500===o?Ee(Te+1):Ge(Le+1)}else console.log("lol no new changes");var l=Aa.indexOf(e.target.id);return console.log(l),l>=0&&Aa.splice(l,1),void console.log(Aa)}if(q.length<H){var n=T.filter((function(a){return a._id===e.target.id}));if(!0===re)300===(o=n[0].stallPrice)&&0===Ae||500===o&&0===Te||800===o&&0===Le?(console.log("nope"),0===Ae?oa("300rs stalls not availabe anymore"):0===Te?oa("500rs stalls not availabe anymore"):(console.log("im here in 800"),oa("800rs stalls not availabe anymore"))):(ta(aa-1),z([].concat((0,r.Z)(q),[n[0]])),oa(""),console.log("booked ::::",q),300===o?Oe(Ae-1):500===o?Ee(Te-1):Ge(Le-1));else console.log("here bookedS:",q),ta(aa-1),z([].concat((0,r.Z)(q),[n[0]])),oa("");console.log("here")}else if(q.length===a){var o,i=T.filter((function(a){return a._id===e.target.id}));if(!0===re)300===(o=q[0].stallPrice)?Oe(Ae+1):500===o?Ee(Te+1):Ge(Le+1),300===(o=i[0].stallPrice)&&0===Ae||500===o&&0===Te||800===o&&0===Le?(console.log("nope"),0===Ae?oa("300rs stalls not availabe anymore"):0===Te?oa("500rs stalls not availabe anymore"):(console.log("im here in 800"),oa("800rs stalls not availabe anymore"))):(q.shift(),Aa.shift(),z([].concat((0,r.Z)(q),[i[0]])),oa(""),300===o?Oe(Ae-1):500===o?Ee(Te-1):Ge(Le-1));else q.shift(),Aa.shift(),z([].concat((0,r.Z)(q),[i[0]])),oa("");console.log("shifted "+Aa)}Oa([].concat((0,r.Z)(Aa),[e.target.id])),console.log(Aa)}}};(0,l.useEffect)((function(){console.log("selected:",Aa),console.log("bookedStall- -",q)}),[Aa]);var qa=null===T||void 0===T?void 0:T.length,za=(new Date("2023-04-02"),(0,l.useState)(!1)),Ja=(0,s.Z)(za,2),Va=(Ja[0],Ja[1]),$a=(0,F.Z)().width;return(0,l.useEffect)((function(){Va($a<850)}),[$a]),(0,B.jsxs)(B.Fragment,{children:[$?(0,B.jsx)(L.Z,{}):(0,B.jsxs)("div",{className:"Test",children:[(0,B.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,B.jsxs)("div",{className:"main_container_stalls",children:[(0,B.jsx)(b.rU,{className:"backbtn green",to:"/farmers/stallplaces",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginTop:NaN,marginLeft:"10px"},children:t("back")}),console.log(Ta),(0,B.jsxs)("h2",{className:"market-name",style:{textAlign:"center",marginTop:"20px"},children:[t(X)," ",t("only_on")," ",t(Ra[Ma[X]-1])]}),(0,B.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",children:t("enter_booking_date")}),console.log(pa),(0,B.jsx)(G.M,{fullWidth:!0,className:"textfield",renderInput:function(e){return(0,B.jsx)(N.Z,(0,M.Z)((0,M.Z)({},e),{},{size:"big",helperText:null}))},value:pa,onChange:function(e){console.log(e.$d);var a=e.$d,t=a.getFullYear(),s=String(a.getMonth()+1).padStart(2,"0"),l=String(a.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(s,"-").concat(l);console.log(n);new Date(e.toISOString().slice(0,10));ga(n),_.Z.getBookedStallsTemp().then((function(e){console.log(pa);var a=e.data&&e.data.filter((function(e){return e.location==="".concat(X)&&e.bookedAt===n}));pe(e.data),be(a.length),ta($e-a.length)})),Ya(!0)},defaultValue:new Date,shouldDisableDate:function(e){new Date;var a=new Date(e);return 7===Ta&&Ea(0),!(a.getDay()===Ta)},minDate:new Date,maxDate:Ce}),ka&&(0,B.jsx)(S.Z,{variant:"subtitle1",color:"error",children:ka})]}),(0,B.jsxs)(m.ZP,{style:{margin:"auto",marginTop:"0rem"},item:!0,xs:12,sm:6,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",children:t("no_of_stalls_required")}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:te,onChange:function(e,a){0!==pa?(e.target.value<=-1?(K(0),se(0)):e.target.value<=aa?(K(e.target.value),se(e.target.value)):(K(aa),se(aa)),Sa("")):Sa(t("please_select_date"))},InputProps:{inputProps:{min:0,max:ba}}}),ra&&(0,B.jsx)(S.Z,{variant:"subtitle1",color:"error",children:ra}),Na&&(0,B.jsx)(S.Z,{variant:"subtitle1",color:"error",children:Na})]})]}),(0,B.jsxs)(m.ZP,{className:"stall-position-grid",children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",children:t("select_stall_position")}),(0,B.jsxs)(m.ZP,{className:"stalls-count-cantainer",children:[(0,B.jsx)(m.ZP,{children:(0,B.jsxs)("div",{className:"stalls-count-div",children:[(0,B.jsxs)(S.Z,{className:"count",children:[t("total_stalls")," :",$e]}),(0,B.jsxs)(S.Z,{className:"count",children:[t("available_stalls")," :",aa]})]})}),(0,B.jsx)(m.ZP,{children:T&&X?(0,B.jsx)("div",{className:"stall_wrapper",children:qa&&(0,B.jsxs)("div",{className:"StallsContainer",children:[(0,B.jsx)(x.Z,{data:T.slice(0,24),handleClick:Ua,bookedStalls:q,alreadyBooked:me,date:pa,t:t}),(0,B.jsxs)("p",{className:"firstPara",children:["Entry",function(){for(var e=[],a=0;a<151;a++)e.push((0,B.jsx)("i",{style:{marginLeft:"10px"},class:"arrow right"}));return e}()]}),(0,B.jsxs)("p",{style:{marginLeft:"2850px"},children:[" ",(0,B.jsx)("i",{class:"arrow down"})]}),(0,B.jsxs)("p",{style:{marginLeft:"2850px"},children:[" ",(0,B.jsx)("i",{class:"arrow down"})]}),(0,B.jsxs)("p",{style:{marginTop:"0",fontSize:"20px",fontWeight:"bold",marginLeft:"20px",marginBottom:"1rem",width:"max-content"},children:["Exit",function(){for(var e=[],a=0;a<152;a++)e.push((0,B.jsx)("i",{style:{marginLeft:"10px"},class:"arrow left"}));return e}()]}),(0,B.jsx)(x.Z,{data:T.slice(26,50),handleClick:Ua,bookedStalls:q,alreadyBooked:me,date:pa,t:t})]})}):(0,B.jsx)("div",{className:"select_market",children:(0,B.jsx)("h2",{children:t("please_select_market")})})})]}),(0,B.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,B.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#C0B236"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"200/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#FF5B00"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:"800/-"})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:t("booked")})]}),(0,B.jsxs)("div",{className:"price-holder",children:[(0,B.jsx)(C.Z,{sx:{width:20,height:20,backgroundColor:"#4705fcae"},className:"stall-color"}),(0,B.jsx)("div",{className:"stall-price",children:t("Selected")})]})]}),(0,B.jsx)(w.Z,{className:"divider"}),(0,B.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,B.jsx)("div",{className:"total-amount",children:t("total_amount")}),(0,B.jsxs)("div",{className:"total-amount",children:["Rs.",q.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]})]}),0!==H&&0!==q.length?(0,B.jsx)("div",{className:"modalbtn",children:(0,B.jsx)(v.Z,{t:t,status:re,setCashOnDelivery:ze,confirmBooking:Ka,selected:Aa})}):(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,B.jsx)(P.Z,{style:{paddingLeft:"5rem",paddingRight:"5rem",fontSize:"15px",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){Z.Am.warn("Please select stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},children:t("Pay")}),(0,B.jsx)(P.Z,{style:{width:"60%%",height:"40px",marginLeft:"10px",paddingLeft:"2rem",paddingTop:"2rem",paddingBottom:"2rem",fontSize:"15px",paddingRight:"2rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){Z.Am.warn("Please select stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},children:t("pay_in_market")})]})]})]}),(0,B.jsx)("div",{className:"pageBottom"})]})},ue=(t(31823),t(35046));var he=function(e){var a=e.bookingDetails,t=(0,l.useState)(!1),r=(0,s.Z)(t,2),c=r[0],d=r[1];(0,l.useEffect)((function(){c||u()}),[c]);var u=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"http://localhost:4000/msg91",e.next=3,g().post("http://localhost:4000/msg91",{bookingDetails:a},{headers:(0,f.Z)()});case 3:t=e.sent,s=t.data,d(!0),console.log(s);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=(0,l.useRef)(),m=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var a,t,s,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=h.current,e.next=3,(0,ue.Z)(a);case 3:(t=e.sent)&&(s=URL.createObjectURL(t),(l=document.createElement("a")).href=s,l.download="download.pdf",l.click(),URL.revokeObjectURL(s));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=a.BookedStalls,x=(0,n.s0)(),b=null===p||void 0===p?void 0:p.toString(),j=(0,l.useState)(!1),v=(0,s.Z)(j,2),_=(v[0],v[1]),k=(0,F.Z)().width;return(0,l.useEffect)((function(){_(k<850)}),[k]),(0,B.jsx)(B.Fragment,{children:a?(0,B.jsxs)("div",{children:[(0,B.jsxs)("div",{className:"invoice-box",ref:h,children:[(0,B.jsx)("img",{src:"../images/logo.png",alt:"log",width:"128",height:"128"}),(0,B.jsx)("h2",{className:"thanks",children:"Stall booking details"}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{className:"invoice_flex_box",children:[(0,B.jsxs)("div",{className:"invoice_details",children:[(0,B.jsxs)("div",{children:["Farmer Name : ",a.farmer]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["Phone : ",a.phone]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["No. of Stalls Booked :",a.stallsBooked]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["Stalls Booked : ",b]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["Payment Id : ",a.paymentDetails]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["Addess : ",a.address]}),(0,B.jsx)("br",{}),(0,B.jsxs)("div",{children:["Total Amount : ",a.totalAmount]}),(0,B.jsx)("br",{})]}),(0,B.jsx)("div",{children:(0,B.jsx)("img",{src:"../images/stall.jpg",alt:"log",width:"128px",height:"128px"})})]}),(0,B.jsx)("h2",{className:"thanks",children:"Thank You for Booking Your Stall in Wingrow Market !"})]}),(0,B.jsxs)("div",{className:"bookings_buttons",children:[(0,B.jsx)("button",{onClick:function(){x("/farmers/stallplaces")},className:"btns_bookings",children:"Continue Booking"}),(0,B.jsx)("button",{onClick:function(){x("../mybookings")},className:"btns_bookings",children:"Your Bookings"}),(0,B.jsx)("button",{onClick:m,className:"btns_bookings",children:"Download Ticket"})]})]}):(0,B.jsx)(L.Z,{})})};var me=function(e){var a=e.t;return(0,B.jsx)("div",{children:(0,B.jsxs)("div",{className:"farmerScreen",children:[(0,B.jsx)(b.rU,{className:"links_farmersdata red",to:"./stallplaces",children:a("book_stall")}),(0,B.jsx)(b.rU,{className:"links_farmersdata green",to:"./mybookings",children:a("my_bookings")}),(0,B.jsx)(b.rU,{className:"links_farmersdata red",to:"./inward",children:a("fill_inward")}),(0,B.jsx)(b.rU,{className:"links_farmersdata green",to:"./outward",children:a("fill_outward")}),(0,B.jsx)(b.rU,{className:"links_farmersdata red",to:"./farmershome",children:a("data")}),(0,B.jsx)(b.rU,{className:"links_farmersdata green",to:"./subscription",children:a("subscription")})]})})},pe=function(e){var a=e.t,t=(0,n.s0)(),r=(0,l.useState)(0),h=(0,s.Z)(r,2),p=h[0],x=(h[1],j.Z.getCurrentUser()),k=(0,l.useState)([]),S=(0,s.Z)(k,2),C=S[0],w=S[1],A=(0,l.useState)(),O=(0,s.Z)(A,2),D=(O[0],O[1]),I=(0,l.useState)(0),T=(0,s.Z)(I,2),E=T[0],M=(T[1],(0,l.useState)(!1)),R=(0,s.Z)(M,2),L=R[0],G=R[1],Y=(0,l.useState)([]),H=(0,s.Z)(Y,2),K=H[0],W=(H[1],(0,l.useState)()),U=(0,s.Z)(W,2),q=U[0],z=U[1],J=(0,l.useState)(!1),V=(0,s.Z)(J,2),$=V[0],Q=(V[1],(0,l.useState)(new Date)),X=(0,s.Z)(Q,2),ee=X[0],ae=X[1],te=(0,l.useState)(0),se=(0,s.Z)(te,2),le=se[0],ne=se[1],re="http://localhost:4000/",ie=(0,l.useState)(0),ce=(0,s.Z)(ie,2),de=ce[0],ue=ce[1],he=(0,l.useState)(),me=(0,s.Z)(he,2),pe=me[0],ge=me[1],xe=(0,l.useState)(0),fe=(0,s.Z)(xe,2),be=(fe[0],fe[1],(0,l.useState)(0)),je=(0,s.Z)(be,2),ve=(je[0],je[1]),_e=(0,l.useState)(0),ke=(0,s.Z)(_e,2),ye=ke[0],Ze=ke[1],Ne=(0,l.useState)(0),Se=(0,s.Z)(Ne,2),Ce=Se[0],we=Se[1],Pe=(0,l.useState)(0),Be=(0,s.Z)(Pe,2),Ae=Be[0],Oe=Be[1];(0,l.useEffect)((function(){_.Z.getBookedStalls().then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.data,console.log("the data is- ",t),0===C.length){e.next=17;break}if(new Date(C[C.length-1].date),console.log("hello---  ",C[C.length-1].date),!(de<=0)){e.next=16;break}if(ve(0),s=C[C.length-1]._id,"active"!=q){e.next=13;break}return z("expired"),"expired",e.next=13,g().put(re+"changestatus",{id:s,s:"expired"}).then((function(e){window.location.reload(!1),console.log("passed")})).catch((function(e){console.log("failed")}));case 13:console.log("sub is-",C[C.length-1]._id),e.next=17;break;case 16:ve(de);case 17:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[K,C]),(0,l.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,l.useEffect)((function(){ue(de)}),[de]),(0,l.useEffect)((function(){var e=x.id;console.log("inside sub useeffect"),(0===C.length||function(e){try{JSON.parse(e)}catch(a){return!1}return!0}(C[0]))&&oe.Z.getSub(e).then((function(e){var a=e.data;if(console.log("all the subscriptions :",a),console.log("helllooooooo ",a),0!==a.length){"active"==a[a.length-1].status?(w(a),z("active")):z("expired");var t=new Date(a[a.length-1].date),s=t.getFullYear(),l=Number(t.getMonth()),n=Number(t.getDate()),r=new Date(s,l,n+90),o=y()(r).format("YYYY-MM-DD");console.log(o),ge(o),Ze(a[a.length-1].first),we(a[a.length-1].second),Oe(a[a.length-1].third),ue(a[a.length-1].stalls)}})),D(!0)}),[C]);var De=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var s,l,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=300*Number(ye)+500*Number(Ce)+800*Number(Ae),console.log("Im here"),z("active"),l=x.id,"123","active",n=Number(ye)+Number(Ce)+Number(Ae),ue(n),e.next=10,g().post(re+"sub",{date:ee,userId:l,valid:p,x:n,s:"active",price:s,first:ye,second:Ce,third:Ae}).then((function(e){var a=e.data;a&&(console.log("data--",a),t("/farmers/subscription")),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),w([])}));case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ie=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,s,l,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hellloooo"),!L){e.next=5;break}De(),e.next=18;break;case 5:return t=300*Number(ye)+500*Number(Ce)+800*Number(Ae),e.prev=6,s=re+"order",e.next=10,g().post(s,{amount:100*t},{headers:(0,f.Z)()});case 10:l=e.sent,n=l.data,Te(n.data),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(a){return e.apply(this,arguments)}}(),Te=function(e){var a={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"http://localhost:4000/"}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,description:"Wingrow Market",handler:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,s,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"http://localhost:4000/verify",e.next=4,g().post("http://localhost:4000/verify",a,{headers:(0,f.Z)()});case 4:return t=e.sent,s=t.data,s.orderId,l=x.id,z("active"),"active",e.next=12,g().post(re+"sub",{date:ee,userId:l,valid:p,stalls:de,s:"active",price:E,first:ye,second:Ce,third:Ae}).then((function(e){var a=e.data;a&&(console.log(a),w(a)),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),w([]);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(a).open()},Ee=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),z("active"),t=x.id,"active",console.log(t),e.next=7,g().post(re+"sub",{date:ee,userId:t,valid:p,stalls:de,s:"active",price:E,first:ye,second:Ce,third:Ae}).then((function(e){console.log("the return data ",e)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Me=(0,l.useState)(!1),Re=(0,s.Z)(Me,2),Le=(Re[0],Re[1]),Ge=(0,F.Z)().width;return(0,l.useEffect)((function(){Le(Ge<850)}),[Ge]),(0,B.jsxs)("div",{className:"sub",children:[(0,B.jsxs)(b.rU,{className:"backbtn green",to:"/farmers",style:{padding:"8px 20px 8px 20px"},children:[a("back")," "]}),(0,B.jsx)("div",{className:"subscrp-heading",children:(0,B.jsx)("h1",{className:"header",children:a("Subscription Model")})}),0!==C.length&&"active"==q?(0,B.jsx)("div",{className:"subscribe",children:(0,B.jsxs)("div",{className:"stallslefts downtext",children:[(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsxs)("p",{className:"startdate",children:[a("Start data")," :"]}),(0,B.jsx)("p",{children:C[C.length-1].date})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsxs)("p",{className:"startdate",children:[" ",a("valid till")," :"]}),(0,B.jsxs)("p",{children:[pe," "]})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsxs)("p",{className:"startdate",children:[" ",a("Status")," :"]}),(0,B.jsxs)("p",{children:[C[C.length-1].status," "]})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsxs)("p",{className:"startdate",children:[" ",a("stalls")," :"]}),(0,B.jsxs)("p",{children:[C[C.length-1].stalls," "]})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsx)("p",{className:"startdate",children:",  300's :"}),(0,B.jsxs)("p",{children:[C[C.length-1].first," "]})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsx)("p",{className:"startdate",children:",  500's :"}),(0,B.jsxs)("p",{children:[C[C.length-1].second," "]})]}),(0,B.jsxs)("div",{className:"inner_downtext",children:[(0,B.jsx)("p",{className:"startdate",children:",  800's :"}),(0,B.jsxs)("p",{children:[C[C.length-1].third," "]})]})]})}):(0,B.jsxs)("div",{classname:"box",children:[(0,B.jsx)("h2",{style:{textAlign:"center",paddingTop:20},children:a("not Subscribed")}),(0,B.jsxs)("form",{onSubmit:Ee,children:[(0,B.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{marginTop:"1rem",marginLeft:{xs:"1.7rem"}},children:[(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",sx:{marginRight:{xs:"6rem",lg:"0px"}},children:a("enter_booking_date")}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},sx:{width:{xs:"80%",sm:"100%",md:"65%",lg:"50%",xl:"100%"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:ee,onChange:function(e){ae(e.target.value),console.log("clicking")},color:"success"})]}),(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,B.jsx)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},sx:{sm:top-40,marginRight:{xs:"7rem",lg:"1rem"}},id:"demo-simple-select-helper-label",children:a("type")}),(0,B.jsxs)(d.Z,{sx:{fontSize:"1.2rem",width:{xs:"80%",sm:"100%",md:"65%",lg:"50%",xl:"100%"}},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:le,label:"Type",name:"type",onChange:function(e){ne("90"),ue(150)},color:"success",className:"mx-auto",children:[(0,B.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"0",children:(0,B.jsx)("em",{children:"Select"})}),(0,B.jsxs)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"90",children:["150 ",a("stalls")]})]})]}),(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,B.jsxs)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",sx:{marginRight:{xs:"7rem",lg:"1rem"}},children:[a("Price")," (300)"]}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:ye,onChange:function(e){return Ze(e.target.value)},InputProps:{inputProps:{min:0,max:150-Number(Ce)-Number(Ae)}}})]}),(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,B.jsxs)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",sx:{marginRight:{xs:"7rem",lg:"1rem"}},children:[a("Price")," (500)"]}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:Ce,onChange:function(e){return we(e.target.value)},InputProps:{inputProps:{min:0,max:150-Number(ye)-Number(Ae)}}})]}),(0,B.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,B.jsxs)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",sx:{marginRight:{xs:"7rem",lg:"1rem"}},children:[a("Price")," (800)"]}),(0,B.jsx)(N.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:Ae,onChange:function(e){return Oe(e.target.value)},InputProps:{inputProps:{min:0,max:150-Number(Ce)-Number(ye)}}})]})]}),le&&ee?(0,B.jsx)("div",{className:"modalbtn",children:(0,B.jsx)(v.Z,{setCashOnDelivery:G,status:$,confirmBooking:Ie,t:a})}):(0,B.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,B.jsx)(m.ZP,{item:!0,xs:6,children:(0,B.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,B.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a("Pay")}),(0,B.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:a("pay_in_market")})]})})})]})]}),(0,B.jsx)("div",{className:"pageBottom"})]})},ge=(t(14957),function(e){var a=e.t,t=(0,l.useState)({farmer:"",phone:"",paymentDetails:"",BookedStalls:null,stallsBooked:null,totalAmount:null}),r=(0,s.Z)(t,2),o=r[0],i=r[1];return(0,B.jsx)(n.Z5,{children:(0,B.jsxs)(n.AW,{path:"/",element:(0,B.jsx)(W,{}),children:[(0,B.jsx)(n.AW,{index:!0,element:(0,B.jsx)(me,{t:a})}),(0,B.jsx)(n.AW,{path:"stallplaces/stalls/:Id",element:(0,B.jsx)(de,{setbookingDetails:i,t:a})}),(0,B.jsx)(n.AW,{path:"/farmershome",element:(0,B.jsx)(K,{t:a})}),(0,B.jsx)(n.AW,{path:"/inward",element:(0,B.jsx)(X,{t:a})}),(0,B.jsx)(n.AW,{path:"/stallplaces",element:(0,B.jsx)(re,{t:a})}),(0,B.jsx)(n.AW,{path:"/advancebookings",element:(0,B.jsx)(E,{setbookingDetails:i})}),(0,B.jsx)(n.AW,{path:"/outward",element:(0,B.jsx)(ne,{t:a})}),(0,B.jsx)(n.AW,{path:"/ticket",element:(0,B.jsx)(he,{bookingDetails:o,t:a})}),(0,B.jsx)(n.AW,{path:"/mybookings",element:(0,B.jsx)(se,{t:a})}),(0,B.jsx)(n.AW,{path:"/subscription",element:(0,B.jsx)(pe,{t:a})})]})})})},55653:function(e,a,t){var s=t(74569),l=t.n(s),n=t(16456),r="http://localhost:4000/",o={getPublicContent:function(){return l().get(r+"all")},getStallsData:function(){return l().get(r+"stalls",{headers:(0,n.Z)()})},getAdminData:function(){return l().get(r+"admin",{headers:(0,n.Z)()})},getInOutdata:function(){return l().get(r+"inwardoutward",{headers:(0,n.Z)()})},getFarmers:function(){return l().get(r+"farmer",{headers:(0,n.Z)()})},getAllUsers:function(){return l().get(r+"allusers",{headers:(0,n.Z)()})},getUsers:function(){return l().get(r+"users",{headers:(0,n.Z)()})},getSub:function(e){return l().post(r+"sub1",{userId:e})},postSub:function(e,a,t,s){return l().post(r+"sub",{date:e,userId:a,stalls:t,validity:s,first:first,second:second,third:third},{headers:(0,n.Z)()})},getMarket:function(){return l().get(r+"getmarket")},getMarkets:function(){return l().get(r+"getmarkets")},getSubscribedData:function(){return l().get(r+"sub")}};a.Z=o}}]);
//# sourceMappingURL=964.1e4ccb01.chunk.js.map