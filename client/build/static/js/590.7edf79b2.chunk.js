"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[590],{8590:function(e,a,t){t.r(a),t.d(a,{default:function(){return me}});var l=t(9439),s=t(2791),n=t(7689),r=t(3433),o=t(4165),i=t(5861),c=(t(3223),t(4387)),d=t(4475),u=t(4925),h=t(6362),m=t(1889),p=t(4569),g=t.n(p),x=t(4566),b=t(6456),f=t(1087),j=t(6457),v=t(5779),k=t(6525),_=t(7892),y=t.n(_),Z=t(5985),S=t(7391),C=t(890),N=(t(5462),t(6543),t(4554)),w=t(4721),P=t(6151),A=t(184),B=j.Z.getCurrentUser(),O=new Date;console.log(O.getDate()+1);var D=O.getDate()+1,E=O.toISOString().slice(0,10),I=[{location:"Hadapsar"},{location:"Karve Nagar"},{location:"Kharadi"},{location:"Wanawadi"},{location:"Magarpatta"},{location:"Amanora City"},{location:"Bramhasun City"}],T=function(e){var a=e.setbookingDetails,t=(e.setValue,(0,s.useState)("")),p=(0,l.Z)(t,2),j=p[0],_=p[1],O=(0,n.s0)(),T="https://wingrowmarket.com:8443/",M=(0,s.useState)(),L=(0,l.Z)(M,2),R=L[0],F=L[1],G=(0,s.useState)(),H=(0,l.Z)(G,2),Y=H[0],W=H[1],K=(0,s.useState)(0),q=(0,l.Z)(K,2),U=q[0],z=q[1],J=(0,s.useState)([]),V=(0,l.Z)(J,2),$=V[0],Q=V[1],X=(0,s.useState)(y()(Date.now()).format("YYYY-MM-DD")),ee=(0,l.Z)(X,2),ae=ee[0],te=ee[1],le=(0,s.useState)(),se=(0,l.Z)(le,2),ne=se[0],re=se[1],oe=(0,s.useState)(),ie=(0,l.Z)(oe,2),ce=(ie[0],ie[1]),de=(0,s.useState)(0),ue=(0,l.Z)(de,2),he=ue[0],me=ue[1],pe=(0,s.useState)(0),ge=(0,l.Z)(pe,2),xe=ge[0],be=ge[1],fe=(0,s.useState)(0),je=(0,l.Z)(fe,2),ve=je[0],ke=je[1],_e=(0,s.useState)(),ye=(0,l.Z)(_e,2),Ze=(ye[0],ye[1]),Se=(0,s.useState)(0),Ce=(0,l.Z)(Se,2),Ne=Ce[0],we=Ce[1],Pe=(0,n.UO)().Id,Ae=null===Y||void 0===Y?void 0:Y.length,Be=(0,s.useState)(!1),Oe=(0,l.Z)(Be,2),De=Oe[0],Ee=Oe[1];(0,s.useEffect)((function(){Ze(!0),k.Z.getMyStalls().then((function(e){Ze(!1),F(e.data)})),k.Z.getBookedStalls().then((function(e){console.log(he);var a=e.data&&e.data.filter((function(e){return e.location==="".concat(Pe)&&e.bookedAt===he}));re(e.data),we(a.length),console.log("already booked",ne)})),Te(!0)}),[]),(0,s.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]);var Ie=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var l,s,n,r;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(l=$.reduce((function(e,a){return a.stallPrice+e}),0),console.log($.length),console.log("price",l),0!==$.length){e.next=6;break}return Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 6:$.toString(),s={location:Pe,bookedStalls:$,bookedBy:B.id,bookedAt:y()(Date.now()).format("YYYY-MM-DD"),isBooked:!0},n=[],$.forEach((function(e){n.push(e.stallName)})),r=T+"bookedstalls","123",g().post(r,s,{headers:(0,b.Z)()}).then((function(e){e.data&&a({farmer:B.firstname+" "+B.lastname,phone:B.phone,paymentDetails:"123",BookedStalls:n,stallsBooked:$.length,totalAmount:l,address:$[0].address}),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){O("../ticket")}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),z(0)}));case 13:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();(0,s.useEffect)((function(){var e=R&&R.filter((function(e){return e.location==="".concat(j)}));console.log(e),W(e)}),[j,R,ae]),(0,s.useEffect)((function(){Y&&(be(Y.length),console.log(xe),ke(xe-Ne))}),[Y,xe]);var Te=function(){return ce(!0)},Me=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,l,s,n;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!De){e.next=4;break}Ie(),e.next=20;break;case 4:if(t=$.reduce((function(e,a){return a.stallPrice+e}),0),0!==$.length){e.next=8;break}return Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 8:return e.prev=8,l=T+"order",e.next=12,g().post(l,{amount:100*t},{headers:(0,b.Z)()});case 12:s=e.sent,n=s.data,Le(n.data),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(8),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[8,17]])})));return function(a){return e.apply(this,arguments)}}(),Le=function(e){var t=$.toString(),l={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://wingrowmarket.com:8443/"}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,bookedStalls:t,description:"Wingrow Market",handler:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(t){var l,s,n,r,i,c,d,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,l=T+"verify",e.next=4,g().post(l,t,{headers:(0,b.Z)()});case 4:s=e.sent,n=s.data,r=n.orderId,console.log("tot"),i={location:j,bookedStalls:$,bookedBy:B.id,bookedAt:y()(ae).format("YYYY-MM-DD"),isBooked:!0},c=[],$.forEach((function(e){console.log(e.stallName),c.push(e.stallName)})),d=$.reduce((function(e,a){return a.stallPrice+e}),0),u=T+"bookedstalls",g().post(u,i,{headers:(0,b.Z)()}).then((function(e){e.data&&a({farmer:B.firstname+" "+B.lastname,phone:B.phone,paymentDetails:r,BookedStalls:c,stallsBooked:$.length,totalAmount:d}),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){O("../ticket")}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),Q([]),z(0)})),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),Q([]),z(0);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(l).open()},Re=function(e){if(console.log("already ",ne),console.log("booked ",$),console.log("number of seats ",U),console.log(e.target),U&&"booked"!==e.target.className){var a=parseInt(U,20);if($.length<=a)if($.includes(e.target.id)){var t=$.filter((function(a){return a!==e.target.id}));Q(t),ke(ve+1)}else if($.length<U){var l=Y.filter((function(a){return a._id===e.target.id}));console.log("here booked"),ke(ve-1),Q([].concat((0,r.Z)($),[l[0]]))}else if($.length===a){var s=Y.filter((function(a){return a._id===e.target.id}));$.shift(),Q([].concat((0,r.Z)($),[s[0]]))}}};return(0,A.jsxs)("div",{className:"Test",children:[(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsx)(f.rU,{to:"../",className:"advancebookinglinkback",children:"Go Back to stalls!"}),(0,A.jsxs)("div",{className:"main_container_stalls",children:[(0,A.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",children:"Enter Booking Date"}),(0,A.jsx)(S.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:he,onChange:function(e){y()(e.target.value).format("YYYY-MM-DD")<=E?(Z.Am.warn("Please select a date after today's date",{position:"top-center",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),me(E.replace(/.{0,2}$/,"")+D)):me(y()(e.target.value).format("YYYY-MM-DD"))},color:"success",className:"textfield"}),console.log(he)]}),(0,A.jsx)(m.ZP,{className:"select-market-grid",item:!0,xs:12,sm:6,children:(0,A.jsxs)(h.Z,{className:"formcontrol",sx:{width:"100%",fontSize:14},children:[(0,A.jsx)(u.Z,{color:"success",className:"stall-booking-lable",children:"Market"}),(0,A.jsx)(d.Z,{className:"textfield",id:"demo-simple-select-autowidth",value:j,color:"success",onChange:function(e){_(e.target.value)},label:"address",name:"address",required:!0,children:I.map((function(e,a){return(0,A.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",children:"Number Of Stall Required"}),(0,A.jsx)(S.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:ae,onChange:function(e){e.target.value<=-1?(z(0),te(0)):e.target.value<=ve?(z(e.target.value),te(e.target.value)):(z(ve),te(ve))}})]})]}),(0,A.jsxs)("div",{className:"secondary_container_stalls",children:[Y&&""!==j?(0,A.jsx)(m.ZP,{className:"stalls-count-cantainer",children:(0,A.jsx)("div",{className:"stall_wrapper",children:(0,A.jsxs)("div",{className:"StallsContainer",children:[(0,A.jsx)(m.ZP,{children:(0,A.jsxs)("div",{className:"stalls-count-div",children:[(0,A.jsxs)(C.Z,{className:"count",children:["Total Stalls :",xe]}),(0,A.jsxs)(C.Z,{className:"count",children:["Available Stalls :",ve]})]})}),34===Ae&&(0,A.jsxs)("div",{className:"StallsContainer",children:[console.log($),(0,A.jsx)(x.Z,{data:Y.slice(0,16),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(16,17),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(17,18),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(18,34),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he})]}),50===Ae&&(0,A.jsxs)("div",{className:"StallsContainer",children:[(0,A.jsx)(x.Z,{data:Y.slice(0,24),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(24,25),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(25,26),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he}),(0,A.jsx)(x.Z,{data:Y.slice(26,50),handleClick:Re,bookedStalls:$,alreadyBooked:ne,date:he})]})]})})}):(0,A.jsx)("div",{className:"select_market",children:(0,A.jsx)("h2",{children:"Please select the market"})}),(0,A.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,A.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"Booked"})]})]}),(0,A.jsx)(w.Z,{className:"divider"}),(0,A.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,A.jsx)("div",{className:"total-amount",children:"Total Amount"}),(0,A.jsxs)("div",{className:"total-amount",children:["Rs.",$.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]}),0!==U&&0!==$.length?(0,A.jsx)("div",{className:"modalbtn",children:(0,A.jsx)(v.Z,{setCashOnDelivery:Ee,confirmBooking:Me})}):(0,A.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,A.jsx)(m.ZP,{item:!0,xs:6,children:(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY ON DELIVERY"})]})})})]})]})]})},M=t(1413),L=t(7762),R=(t(8253),t(1840)),F=t(786),G=t(4610),H=t(5967),Y=t(3623);H.kL.register(H.ZL,H.uw,H.f$,H.u,H.De);var W=function(e){var a=e.t,t=(0,s.useState)([]),n=(0,l.Z)(t,2),o=n[0],i=n[1],p=(0,s.useState)([]),g=(0,l.Z)(p,2),x=g[0],b=g[1],j=(0,s.useState)([]),v=(0,l.Z)(j,2),_=v[0],y=v[1],C=(0,s.useState)([]),N=(0,l.Z)(C,2),w=N[0],B=N[1],O=(0,s.useState)(0),D=(0,l.Z)(O,2),E=D[0],I=D[1],T=(0,s.useState)(0),H=(0,l.Z)(T,2),W=(H[0],H[1]),K=(0,s.useState)(0),q=(0,l.Z)(K,2),U=(q[0],q[1]),z=(0,s.useState)(0),J=(0,l.Z)(z,2),V=(J[0],J[1]),$=new Date,Q=(0,s.useState)(0),X=(0,l.Z)(Q,2),ee=X[0],ae=X[1],te=(0,s.useState)(0),le=(0,l.Z)(te,2),se=le[0],ne=le[1],re=(0,s.useState)(0),oe=(0,l.Z)(re,2),ie=oe[0],ce=oe[1],de=(0,s.useState)(0),ue=(0,l.Z)(de,2),he=ue[0],me=ue[1],pe=(0,s.useState)(0),ge=(0,l.Z)(pe,2),xe=ge[0],be=ge[1],fe=(0,s.useState)(0),je=(0,l.Z)(fe,2),ve=je[0],ke=je[1],_e=(0,s.useState)(0),ye=(0,l.Z)(_e,2),Ze=ye[0],Se=ye[1],Ce=(0,s.useState)(0),Ne=(0,l.Z)(Ce,2),we=Ne[0],Pe=Ne[1],Ae=(0,s.useState)(0),Be=(0,l.Z)(Ae,2),Oe=Be[0],De=Be[1],Ee=(0,s.useState)(0),Ie=(0,l.Z)(Ee,2),Te=Ie[0],Me=Ie[1],Le=(0,s.useState)(0),Re=(0,l.Z)(Le,2),Fe=Re[0],Ge=Re[1],He=(0,s.useState)(0),Ye=(0,l.Z)(He,2),We=Ye[0],Ke=Ye[1],qe=(0,s.useState)(0),Ue=(0,l.Z)(qe,2),ze=Ue[0],Je=Ue[1],Ve=(0,s.useState)(0),$e=(0,l.Z)(Ve,2),Qe=$e[0],Xe=$e[1],ea=(0,s.useState)(0),aa=(0,l.Z)(ea,2),ta=aa[0],la=aa[1],sa=(0,s.useState)(0),na=(0,l.Z)(sa,2),ra=na[0],oa=na[1],ia=(0,s.useState)(0),ca=(0,l.Z)(ia,2),da=ca[0],ua=ca[1],ha=(0,s.useState)(0),ma=(0,l.Z)(ha,2),pa=ma[0],ga=ma[1],xa=(0,s.useState)(0),ba=(0,l.Z)(xa,2),fa=ba[0],ja=ba[1],va=(0,s.useState)(0),ka=(0,l.Z)(va,2),_a=ka[0],ya=ka[1],Za=(0,s.useState)(0),Sa=(0,l.Z)(Za,2),Ca=Sa[0],Na=Sa[1],wa=(0,s.useState)(0),Pa=(0,l.Z)(wa,2),Aa=Pa[0],Ba=Pa[1],Oa=(0,s.useState)(0),Da=(0,l.Z)(Oa,2),Ea=Da[0],Ia=Da[1],Ta=(0,s.useState)(0),Ma=(0,l.Z)(Ta,2),La=Ma[0],Ra=Ma[1],Fa=(0,s.useState)(0),Ga=(0,l.Z)(Fa,2),Ha=Ga[0],Ya=Ga[1],Wa=(0,s.useState)(0),Ka=(0,l.Z)(Wa,2),qa=Ka[0],Ua=Ka[1],za=(0,s.useState)(0),Ja=(0,l.Z)(za,2),Va=Ja[0],$a=Ja[1],Qa=(0,s.useState)(0),Xa=(0,l.Z)(Qa,2),et=Xa[0],at=Xa[1],tt=(0,s.useState)(""),lt=(0,l.Z)(tt,2),st=lt[0],nt=lt[1],rt=(0,s.useState)(0),ot=(0,l.Z)(rt,2),it=(ot[0],ot[1],(0,s.useRef)(null)),ct=[ee*ta-we*Aa,se*ra-Oe*Ea,ie*da-Te*La,he*pa-Fe*Ha,xe*fa-We*qa,ve*_a-ze*Va,Ze*Ca-Qe*et];console.log(ct[3]);for(var dt={Hadapsar:3,Kharadi:4,"Karve Nagar":4,"Bramhasun City":5,Wanawadi:6,Magarpatta:0,"Amanora City":0},ut=$.getDay(),ht={labels:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],datasets:[{label:"Data",backgroundColor:"green",borderColor:"black",borderWidth:1,data:[ee*ta-we*Aa,se*ra-Oe*Ea,ie*da-Te*La,he*pa-Fe*Ha,xe*fa-We*qa,ve*_a-ze*Va,Ze*Ca-Qe*et]}]},mt=[{location:a("Hadapsar")},{location:a("Karve Nagar")},{location:a("Kharadi")},{location:a("Wanawadi")},{location:a("Magarpatta")},{location:a("Amanora City")},{location:a("Bramhasun City")}],pt=(0,s.useState)(null),gt=(0,l.Z)(pt,2),xt=gt[0],bt=gt[1],ft=(0,s.useState)(!1),jt=(0,l.Z)(ft,2),vt=jt[0],kt=jt[1],_t={},yt=function(){var e,a=St[Zt],t=_.filter((function(e){return e.market===a})),l=w.filter((function(e){return e.market===a})),s=(0,r.Z)(new Set(t.map((function(e){return e.commodity})))),n={},o=0,i=(0,L.Z)(s);try{var c=function(){var a=e.value,s=t.filter((function(e){return e.commodity===a})),r=s.reduce((function(e,a){return e+a.purchase_quantity}),0),i=s.reduce((function(e,a){return e+a.purchase_rate}),0),c=l.filter((function(e){return e.commodity===a})),d=c.reduce((function(e,a){return e+a.sales_quantity}),0),u=c.reduce((function(e,a){return e+a.sales_rate}),0),h=d*u-r*i;n[a]={commodity:a,totalPurchaseQuantity:r,totalPurchaseRate:i,totalSalesQuantity:d,totalSalesRate:u,netProfit:h},o+=h};for(i.s();!(e=i.n()).done;)c()}catch(d){i.e(d)}finally{i.f()}_t[a]=n,_t[a].totalNetProfit=o},Zt=0,St=["Hadapsar","Kharadi","Karve Nagar","Bramhasun City","Wanawadi","Magarpatta","Amanora City"];Zt<St.length;Zt++)yt();(0,s.useEffect)((function(){if(st&&xt&&vt){console.log("here");var e=new Date(xt),a=e.getFullYear(),t=("0"+(e.getMonth()+1)).slice(-2),l=("0"+e.getDate()).slice(-2),s="".concat(a,"-").concat(t,"-").concat(l);console.log(s),k.Z.getInward().then((function(e){var a=e.data&&e.data.filter((function(e){return e.market===st&&e.time.slice(0,10)===s}));console.log(a),i(a)})),k.Z.getOutward().then((function(e){var a=e.data&&e.data.filter((function(e){return e.market===st&&e.time.slice(0,10)===s}));console.log(a),b(a)})),kt(!1)}}),[st,xt,vt]);function Ct(e,a){var t=0;w&&(w.forEach((function(a){dt[a.market]===e&&(t+=a.sales_quantity)})),a(t))}function Nt(e,a){var t=0;w&&(w.forEach((function(a){dt[a.market]===e&&(t+=a.sales_rate)})),a(t))}function wt(e,a){var t=0;_&&(o.forEach((function(a){dt[a.market]===e&&(t+=a.purchase_rate)})),a(t))}function Pt(e,a){var t=0;_&&(_.forEach((function(a){dt[a.market]===e&&(t+=a.purchase_quantity)})),a(t))}(0,s.useEffect)((function(){k.Z.getInward().then((function(e){y(e.data)})),k.Z.getOutward().then((function(e){B(e.data)}))}),[]),(0,s.useEffect)((function(){for(var e=0;e<7;e++)0===e?Ct(0,Se):1===e?Ct(1,ae):2===e?Ct(2,ne):3===e?Ct(3,ce):4===e?Ct(4,me):5===e?Ct(5,be):6===e&&Ct(6,ke)}),[w]),(0,s.useEffect)((function(){for(var e=0;e<7;e++)0===e?Nt(0,Na):1===e?Nt(1,la):2===e?Nt(2,oa):3===e?Nt(3,ua):4===e?Nt(4,ga):5===e?Nt(5,ja):6===e&&Nt(6,ya)}),[w]),(0,s.useEffect)((function(){for(var e=0;e<7;e++)0===e?wt(0,at):1===e?wt(1,Ba):2===e?wt(2,Ia):3===e?wt(3,Ra):4===e?wt(4,Ya):5===e?wt(5,Ua):6===e&&wt(6,$a)}),[_]),(0,s.useEffect)((function(){for(var e=0;e<7;e++)0===e?Pt(0,Xe):1===e?Pt(1,Pe):2===e?Pt(2,De):3===e?Pt(3,Me):4===e?Pt(4,Ge):5===e?Pt(5,Ke):6===e&&Pt(6,Je)}),[_]),(0,s.useEffect)((function(){var e=0;w&&(w.forEach((function(a){ut===dt[a.market]&&(e+=a.sales_quantity)})),I(e))}),[w]),(0,s.useEffect)((function(){var e=0;w&&(w.forEach((function(a){ut===dt[a.market]&&(e+=a.sales_rate)})),W(e))}),[w]),(0,s.useEffect)((function(){var e=0;_&&(_.forEach((function(a){ut===dt[a.market]&&(e+=a.purchase_quantity)})),U(e))}),[_]);return(0,s.useEffect)((function(){var e=0;_&&(_.forEach((function(a){ut===dt[a.market]&&(console.log(a.market),e+=a.purchase_rate)})),V(e))}),[_]),console.log(it),(0,s.useEffect)((function(){var e=G.S1(it.current);console.log(_t.Hadapsar.totalNetProfit);var t={xAxis:{type:"category",data:[a("monday"),a("tuesday"),a("wednesday"),a("thursday"),a("friday"),a("saturday"),a("sunday")]},yAxis:{type:"value"},dataGroupId:"",animationDurationUpdate:500,series:[{type:"bar",id:"sales",data:[{value:0,groupId:a("monday")},{value:ct[1],groupId:a("tuesday")},{value:_t.Hadapsar.totalNetProfit,groupId:a("wednesday")},{value:_t["Karve Nagar"].totalNetProfit+_t.Kharadi.totalNetProfit,groupId:a("thursday")},{value:_t["Bramhasun City"].totalNetProfit,groupId:a("friday")},{value:_t.Wanawadi.totalNetProfit,groupId:a("saturday")},{value:_t["Amanora City"].totalNetProfit+_t.Magarpatta.totalNetProfit,groupId:a("sunday")}],universalTransition:{enabled:!0,divideShape:"clone"}}]};for(var l in e.setOption(t),console.log("Cumulative Data for all Markets:",_t),_t)for(var s in console.log("Market: ".concat(l)),_t[l]){var n=_t[l][s].netProfit;console.log("Commodity: ".concat(s,", Net Profit: ").concat(n))}var o=Object.keys(_t["Karve Nagar"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t["Karve Nagar"][e].netProfit]})),i=Object.keys(_t.Kharadi).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t.Kharadi[e].netProfit]})),c=Object.keys(_t.Magarpatta).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t.Magarpatta[e].netProfit]})),d=Object.keys(_t["Amanora City"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t["Amanora City"][e].netProfit]})),u=[{dataGroupId:a("wednesday"),data:Object.keys(_t.Hadapsar).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t.Hadapsar[e].netProfit]}))},{dataGroupId:a("thursday"),data:[].concat((0,r.Z)(o),(0,r.Z)(i))},{dataGroupId:a("friday"),data:Object.keys(_t["Bramhasun City"]).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t["Bramhasun City"][e].netProfit]}))},{dataGroupId:a("saturday"),data:Object.keys(_t.Wanawadi).filter((function(e){return"totalNetProfit"!==e})).map((function(e){return[e,_t.Wanawadi[e].netProfit]}))},{dataGroupId:a("sunday"),data:[].concat((0,r.Z)(c),(0,r.Z)(d))}];return e.on("click",(function(a){if(a.data){var l=u.find((function(e){return e.dataGroupId===a.data.groupId}));if(!l)return;e.setOption({xAxis:{data:l.data.map((function(e){return e[0]}))},series:{type:"bar",id:"sales",dataGroupId:l.dataGroupId,data:l.data.map((function(e){return e[1]})),universalTransition:{enabled:!0,divideShape:"clone"}},graphic:[{type:"text",left:50,top:20,style:{text:"Back",fontSize:18},onclick:function(){e.setOption(t)}}]})}})),function(){e.dispose()}}),[ct,_]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsx)("div",{className:"inOutData"}),(0,A.jsxs)("div",{className:"farmers_page",children:[(0,A.jsx)("div",{className:"backbtndiv",children:(0,A.jsx)(f.rU,{className:"backbtn green backbtndiv",to:"/farmers",children:a("back")})}),o&&x&&(0,A.jsxs)("div",{className:"farmers",children:[(0,A.jsxs)("div",{className:"farmers_data",children:[(0,A.jsxs)(m.ZP,{className:"input-div-holder-new",container:!0,spacing:3,children:[(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,className:"date-input-farmer-home",children:[(0,A.jsx)(u.Z,{className:"farmerDataLabel",children:a("enter_booking_date")}),(0,A.jsx)(F.M,{renderInput:function(e){return(0,A.jsx)(S.Z,(0,M.Z)({},e))},selected:xt,onChange:function(e){var a=new Date(e),t=a.getDate(),l=a.getMonth()+1,s=a.getFullYear(),n="".concat(t,"/").concat(l,"/").concat(s);console.log(n),bt(a)},dateFormat:"dd/MM/yyyy",placeholderText:"Select a date",value:xt})]}),(0,A.jsxs)(m.ZP,{className:"select-market-grid",item:!0,xs:12,sm:6,children:[(0,A.jsx)(u.Z,{className:"farmerDataLabel",children:a("select_market")}),(0,A.jsxs)(h.Z,{className:"formcontrol",sx:{width:"100%",fontSize:14},children:[(0,A.jsx)(u.Z,{color:"success",className:"stall-booking-lable",children:a("market_label")}),console.log(vt),(0,A.jsx)(d.Z,{className:"textfield",id:"demo-simple-select-autowidth",value:st,color:"success",onChange:function(e){xt?nt(e.target.value):Z.Am.warn("Please Select Date!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},label:"address",name:"address",required:!0,children:mt.map((function(e,a){return(0,A.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})]}),(0,A.jsx)("div",{className:"searchButton",children:(0,A.jsx)(P.Z,{onClick:function(){""===st?Z.Am.warn("Please Select Market!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}):kt(!0)},className:"btn",type:"submit",variant:"contained",sx:{m:2},children:a("search")})})]}),0!==o.length&&(0,A.jsxs)("div",{className:"inwardData",children:[(0,A.jsx)("h3",{style:{padding:"1rem 0"},children:a("inward_data")}),(0,A.jsx)("div",{className:"farmersdata_container",children:o.map((function(e,t){return(0,A.jsxs)("div",{className:"farmerdata_items",children:[(0,A.jsxs)("p",{children:[a("commodity")," ",e.commodity]}),(0,A.jsxs)("p",{children:[a("market")," ",e.market]}),(0,A.jsxs)("p",{children:[a("purchase_rate")," ",e.purchase_rate]}),(0,A.jsxs)("p",{children:[a("purchase_quantity")," ",e.purchase_quantity]})]},t)}))})]}),0===o.length&&(0,A.jsxs)("div",{className:"inwardData",children:[(0,A.jsx)("h3",{style:{padding:"1rem 0"},children:a("inward_data")}),(0,A.jsx)("div",{className:"farmersdata_container",children:a("no_inward_data_available")})]}),0!==x.length&&(0,A.jsxs)("div",{className:"outwardData",children:[console.log(E),(0,A.jsx)("h3",{style:{padding:"1rem 0"},children:"Outward Data"}),(0,A.jsx)("div",{className:"farmersdata_container",children:x.map((function(e,t){return(0,A.jsxs)("div",{className:"farmerdata_items",children:[(0,A.jsxs)("p",{children:[a("commodity")," ",e.commodity]}),(0,A.jsxs)("p",{children:[a("market")," ",e.market]}),(0,A.jsxs)("p",{children:[a("sales_rate")," ",e.sales_rate]}),(0,A.jsxs)("p",{children:[a("sales_quantity")," ",e.sales_quantity]})]},t)}))})]}),0===x.length&&(0,A.jsxs)("div",{className:"outwardData",children:[(0,A.jsx)("h3",{style:{padding:"1rem 0"},children:a("outward_data")}),(0,A.jsx)("div",{className:"farmersdata_container",children:a("no_outward_data_available")})]})]}),(0,A.jsx)("div",{children:0!==o.length&&0!==x.length?(0,A.jsxs)("div",{style:{display:"Grid",alignItems:"Center",justifyContent:"center",marginTop:"2rem"},children:[(0,A.jsx)("h3",{style:{padding:"1rem 0"},children:a("profit_loss_label")}),(0,A.jsx)("div",{className:"farmersdata_container",children:(0,A.jsx)("div",{className:"farmerdata_items",children:function(){var e=[];return o.forEach((function(a){var t=x.find((function(e){return e.commodity===a.commodity}));if(t){var l=a.purchase_quantity,s=a.purchase_rate,n=t.sales_quantity*t.sales_rate-l*s;e.push(n)}})),e}().map((function(e,t){return(0,A.jsx)("h3",{children:e<0?"".concat(a("Loss for")," ").concat(o[t].commodity,": ").concat(Math.abs(e)):"".concat(a("Profit for")," ").concat(o[t].commodity,": ").concat(e)},t)}))})})]}):console.log("no")}),(0,A.jsx)("h1",{children:a("market_details")}),(0,A.jsxs)("div",{className:"second-row",children:[(0,A.jsxs)("div",{className:"inwardData",children:[(0,A.jsx)("h3",{style:{padding:"0 0"},children:a("market_days")}),(0,A.jsx)("div",{className:"farmersdata_container",children:(0,A.jsxs)("div",{className:"farmerdata_items",children:[(0,A.jsxs)("p",{children:[a("monday"),"    : None"]}),(0,A.jsxs)("p",{children:[a("tuesday"),"   : None"]}),(0,A.jsxs)("p",{children:[a("wednesday")," : ",a("hadapsar_location")]}),(0,A.jsxs)("p",{children:[a("thursday"),"  : ",a("kharadi_iT_park_location"),", ",a("karvenagar_location")]}),(0,A.jsxs)("p",{children:[a("friday"),"    : ",a("Bramhasun City")]}),(0,A.jsxs)("p",{children:[a("saturday"),"  : ",a("Wanawadi")]}),(0,A.jsxs)("p",{children:[a("sunday"),"    : ",a("magarpatta_location"),", ",a("Amanora City")]})]})})]}),(0,A.jsx)(Y.$Q,{className:"bar",data:ht,options:{},children:console.log(Ze*Ca-Qe*et)}),(0,A.jsx)("div",{ref:it,style:{width:"100%",height:"400px"}})]})]}),!o&&!x&&(0,A.jsx)(R.Z,{})]})]})},K=(t(4252),function(){return(0,A.jsx)("div",{style:{postion:"relative"},children:(0,A.jsx)(n.j3,{})})}),q=t(4942),U=t(4708),z=t(9164),J=t(7107),V=t(7012),$=t(5904),Q=(0,J.Z)();function X(e){var a=e.t,t=[{location:a("hadapsar_location")},{location:a("karvenagar_location")},{location:a("kharadi_iT_park_location")},{location:a("wanwadi_location")},{location:a("magarpatta_location")},{location:a("amanora_city_location")},{location:a("bramhasun_city_location")}],n=[{label:a("Amaranthus")},{label:a("Beet Root")},{label:a("Chukka- sorrel Leaves")},{label:a("Colocasia Leaves")},{label:a("Curry Leaves")},{label:a("Dill")},{label:a("Fenugreek Leaves")},{label:a("Green Amaranth")},{label:a("Spinach")},{label:a("Spring Onion")},{label:a("Sufflower")},{label:a("Chilli")},{label:a(" Colocasia Roots")},{label:a("Cucumber Madras")},{label:a("Kohlrabi")},{label:a("Onion White-Pandhara Kanda")},{label:a("Pointed Gourd")},{label:a("Pumpkin")},{label:a("Raw Jackfruit")},{label:a("Raw Papaya")},{label:a("Sambhar Kanda")},{label:a("Snake Gourd")},{label:a("Spiny Gourd")},{label:a("Sweet Potato")},{label:a("Yam")},{label:a("Asparagus")},{label:a("Avocado")},{label:a("Baby Corn")},{label:a("Baby Potato")},{label:a("Basil")},{label:a("Broccoli")},{label:a("Celery")},{label:a("Cherry Tomato")},{label:a("chinese Cabbage")},{label:a("Coccinia")},{label:a("Green Zucchini")},{label:a("Iceberg Lettuce")},{label:a("Parsley")},{label:a("Red Cabbage")},{label:a("Red Capsicum")},{label:a("Romaine Lettuce")},{label:a("Yellow Capsicum")},{label:a("Yellow Zucchini")},{label:a("Mushroom")},{label:a("Sweet Corn")},{label:a("Sweet Corn Grains")},{label:a("Cabbage")},{label:a("Potato (Agra)")},{label:a("Potato (Indore)")},{label:a("Potato (Talegav)")},{label:a("Beans Double")},{label:a("Bitter Gourd")},{label:a("Brinjal Big")},{label:a("Brinjal Green")},{label:a("Brinjal Long Green")},{label:a("Brinjal Purple")},{label:a("Carrot")},{label:a("Cauliflower")},{label:a("Chavali Beans")},{label:a("Chickpeas - Chana sprouts")},{label:a("chilli - Bhavgagari Mirchi")},{label:a("Chilli Green")},{label:a("chilli Simple")},{label:a("Cluster Beans")},{label:a("Coconut")},{label:a("Colocasia Roots")},{label:a("Coriander")},{label:a("Cucumber")},{label:a("Cucumder Madras")},{label:a("Cucumber Madras- Sambar Kakadi")},{label:a("Cucumber Polyhouse- English Kakadi")},{label:a("Drum Sticks")},{label:a("Field Beans")},{label:a("Fresh Peeled Green Peas")},{label:a("Garlic")},{label:a("Ginger")},{label:a("Green Capsicum")},{label:a("Green Mango")},{label:a("Green Peas")},{label:a("Groundnut Pods")},{label:a("Tamarind")},{label:a("Lady Finger")},{label:a("Lemon Grass")},{label:a("Mint")},{label:a("Onion")},{label:a("Onion Sambhar")},{label:a("Lima Beans")},{label:a("Peeled Garlic")},{label:a("Potato")},{label:a("Radish")},{label:a("Ridgegourd")},{label:a("Sponge Gourd")},{label:a("Tomato")},{label:a("Wal")},{label:a("Wal Broad")},{label:a("Wal surati")},{label:a("Water Chestnuts")},{label:a("Apple Fuji")},{label:a("Apple Green")},{label:a("Apple Kinnaur")},{label:a("Apple Red Delicious")},{label:a("Apple Shimla Big")},{label:a("Kiwi")},{label:a("Litchi")},{label:a("Strawberry")},{label:a("Grapes Black")},{label:a("Grapes Green")},{label:a("Jambhul")},{label:a("Mango Badami (For Juice)")},{label:a("Mango Devgad Hapus")},{label:a("Mango Keshar")},{label:a("Mango Lalbag")},{label:a("Mango Payri")},{label:a("Mango Ratnagiri Hapus")},{label:a("Mango Totapuri")},{label:a("Muskmelon")},{label:a("Watermelon Kiran")},{label:a("Watermelon Regular")},{label:a("Amla")},{label:a("Apple Gourd")},{label:a("Ashgourd")},{label:a("Banana")},{label:a("Custard-apple")},{label:a("Elaichi Banana")},{label:a("Figs")},{label:a("Guava")},{label:a("Jackfruit Peeled")},{label:a("Jujube - Ber")},{label:a("Orange Small")},{label:a("Orange Kinnow")},{label:a("Papaya")},{label:a("Pear Imported")},{label:a("Pomogranate")},{label:a("Raw Banana")},{label:a("Sapodilla")},{label:a("Sugarcane")},{label:a("Sweet Lime")},{label:a("Tender")}],r=(0,s.useState)({purchase_quantity:void 0,purchase_rate:void 0,market:""}),o=(0,l.Z)(r,2),i=o[0],u=o[1],p=(0,s.useState)(""),g=(0,l.Z)(p,2),x=g[0],b=g[1],j=function(e){var a=e.target,t=a.name,l=a.value;u((function(e){return(0,M.Z)((0,M.Z)({},e),{},(0,q.Z)({},t,l))}))};return(0,A.jsxs)("div",{className:"data_container",children:[(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsx)(V.Z,{theme:Q,children:(0,A.jsxs)(z.Z,{className:"main",component:"main",maxWidth:"sm",sx:{width:"100%"},children:[(0,A.jsx)(U.ZP,{}),(0,A.jsx)(f.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginTop:NaN,marginLeft:"10px"},children:a("back")}),(0,A.jsxs)(N.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px 0px 10px 0px",height:"100%",width:"100%"},children:[(0,A.jsxs)(C.Z,{component:"h1",variant:"h4",fontFamily:"Arturo",sx:{marginBottom:"1.5rem"},children:[a("farmer_inward_data")," !!"]}),(0,A.jsxs)(N.Z,{component:"form",onSubmit:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.purchase_quantity&&i.purchase_rate&&i.market&&t?k.Z.postInward(x,i.purchase_quantity,i.purchase_rate,i.market,t).then((function(){Z.Am.success(a("inward_data_added_successfully"),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),2e3)}),(function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({market:"",purchase_rate:0,purchase_quantity:0}),b("")})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:0,marginTop:"-2.5rem",width:"100%"},children:[(0,A.jsxs)(m.ZP,{container:!0,spacing:0,children:[(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%",height:"70px"},children:[(0,A.jsx)(C.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:a("select_market")}),(0,A.jsx)(d.Z,{style:{height:"40px"},className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:i.market,onChange:j,name:"market",required:!0,color:"success",children:t.map((function(e,a){return(0,A.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,A.jsx)(C.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:a("select_one_commodity")}),(0,A.jsx)($.Z,{style:{height:"40px"},className:"textfield",isOptionEqualToValue:function(e,a){return e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return b(null===a||void 0===a?void 0:a.label)},options:n,sx:{width:"100%"},renderInput:function(e){return(0,A.jsx)(S.Z,(0,M.Z)({color:"success",className:"textfield",name:"commodity",style:{height:"100%"}},e))}})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"80%"},children:[(0,A.jsxs)(C.Z,{className:"stall-booking-lable",style:{marginTop:"1rem"},fontFamily:"Arturo",children:[a("purchase_quantity"),' "kg"',(0,A.jsx)("sup",{children:"*"})]}),(0,A.jsx)(S.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_quantity",value:i.purchase_quantity,onChange:j,type:"number",id:"purchase quantity",autoComplete:"new-purchase quantity"})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,A.jsxs)(C.Z,{className:"stall-booking-lable",fontFamily:"Arturo",children:[a("purchase_rate")," (Rs/kg)",(0,A.jsx)("sup",{children:"*"})]}),(0,A.jsx)(S.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"purchase_rate",value:i.purchase_rate,onChange:j,type:"number",id:"purchase rate",autoComplete:"new-purchase rate"})]})})]}),(0,A.jsx)(m.ZP,{children:(0,A.jsx)(P.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},fontFamily:"Arturo",children:a("add")})})]})]})]})})]})}var ee=t(9143),ae={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"70%",height:"80%",overflow:"auto",bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:4};function te(e){var a=e.Delete,t=e.id,n=e.t,r=s.useState(!1),o=(0,l.Z)(r,2),i=o[0],c=o[1],d=function(){return c(!1)};return(0,A.jsxs)("div",{style:{textAlign:"center",backgroundColor:"white",marginTop:"10px"},children:[(0,A.jsx)(P.Z,{onClick:function(){return c(!0)},children:"Cancel Booking"}),(0,A.jsx)(ee.Z,{open:i,onClose:d,"aria-labelledby":"modal-modal-title","aria-describedby":"modal-modal-description",children:(0,A.jsxs)(N.Z,{sx:ae,children:[(0,A.jsx)("button",{className:"closebtn",onClick:d,style:{marginLeft:"-250px",marginTop:"-15px"},children:"\xd7"}),(0,A.jsxs)("div",{className:"terms_and_conditions",children:[(0,A.jsx)("h1",{children:n("Terms_of_service")}),(0,A.jsx)("br",{}),(0,A.jsx)("h2",{children:n("wingrow_farmers_market")}),(0,A.jsx)("h3",{class:"city",children:n("role_of_wingrow_agritech")}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("role_para_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("role_para_2")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("role_para_3")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("role_para_4")}),(0,A.jsx)("br",{})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("personal_information")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("personal_info_para_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("account_and_registration_obligations")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("acc_and_registration_obligations_para")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("LICENSE_&_SITE_ACCESS")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("LICENSE_&_SITE_ACCESS_PARA")}),(0,A.jsx)("br",{}),(0,A.jsxs)("h3",{class:"city",children:[n("pricing")," "]}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("pricing_para")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("return_and_refunds")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("return_and_refunds_para")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("cancellation_of_booking")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("cancellation_booking_para_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("cancellation_booking_para_2")})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("PAYMENT_FOR_BOOKING_AND_ANY_ADDITIONAL_CHARGES")}),(0,A.jsx)("br",{}),(0,A.jsx)("h4",{children:n("FULL_PAYMENT")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("Full_payment_para")}),(0,A.jsx)("br",{}),(0,A.jsx)("h4",{children:n("CANCELLATION_CHARGES")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:(0,A.jsxs)("table",{style:{width:"100%"},children:[(0,A.jsxs)("tr",{children:[(0,A.jsx)("th",{children:n("cancellation_charges_head_1")}),(0,A.jsx)("th",{children:n("cancellation_charges_head_2")})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:n("cancellation_data_1")}),(0,A.jsx)("td",{children:n("cancellation_data_2")})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:n("cancellation_data_3")}),(0,A.jsx)("td",{children:n("cancellation_data_4")})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:n("cancellation_data_5")}),(0,A.jsx)("td",{children:n("cancellation_data_6")})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:n("cancellation_data_6")}),(0,A.jsx)("td",{children:n("cancellation_data_7")})]}),(0,A.jsxs)("tr",{children:[(0,A.jsx)("td",{children:n("cancellation_data_9")}),(0,A.jsx)("td",{children:n("cancellation_data_10")})]})]})}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("YOU_AGREE_AND_CONFIRM")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("confirm_para_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("confirm_para_2")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("confirm_para_3")}),(0,A.jsx)("br",{}),(0,A.jsx)("li",{children:n("confirm_para_4")})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("not_use_for_these")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("not_use_for_these_1")}),(0,A.jsx)("li",{children:n("not_use_for_these_2")}),(0,A.jsx)("li",{children:n("not_use_for_these_3")}),(0,A.jsx)("li",{children:n("not_use_for_these_4")}),(0,A.jsx)("li",{children:n("not_use_for_these_5")}),(0,A.jsx)("li",{children:n("not_use_for_these_6")}),(0,A.jsx)("li",{children:n("not_use_for_these_7")})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("modification_of_t_and_c")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("modification_t_and_c_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("COPYRIGHT_&_TRADEMARK")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("copyright_and_trademark_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("OBJECTIONABLE_MATERIAL")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("objectionable_material_1")}),(0,A.jsx)("br",{}),(0,A.jsxs)("h3",{class:"city",children:[n("INDEMNITY")," "]}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("indemnity_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("TERMINATION")}),(0,A.jsx)("br",{}),(0,A.jsx)("p",{children:n("termination_1")}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("RESCHEDULING_OF_TICKET")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("rescheduling_ticket_1")}),(0,A.jsx)("li",{children:n("rescheduling_ticket_2")}),(0,A.jsx)("li",{children:n("rescheduling_ticket_3")}),(0,A.jsx)("li",{children:n("rescheduling_ticket_4")}),(0,A.jsx)("li",{children:n("rescheduling_ticket_5")})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("responsibilities")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("responsibilities_1")}),(0,A.jsx)("li",{children:n("responsibilities_2")}),(0,A.jsx)("li",{children:n("responsibilities_3")}),(0,A.jsx)("li",{children:n("responsibilities_4")}),(0,A.jsx)("li",{children:n("responsibilities_5")})]}),(0,A.jsx)("br",{}),(0,A.jsx)("h3",{class:"city",children:n("MISCELLANEOUS")}),(0,A.jsx)("br",{}),(0,A.jsxs)("p",{children:[(0,A.jsx)("li",{children:n("MISCELLANEOUS_1")}),(0,A.jsx)("li",{children:n("MISCELLANEOUS_2")}),(0,A.jsx)("li",{children:n("MISCELLANEOUS_3")}),(0,A.jsx)("li",{children:n("MISCELLANEOUS_4")})]}),(0,A.jsx)("br",{}),(0,A.jsx)(P.Z,{id:t,onClick:function(e){a(e),d()},children:"Confirm Delete?"})]})]})})]})}var le=function(e){var a=e.t,t=j.Z.getCurrentUser(),n=(0,s.useState)(),r=(0,l.Z)(n,2),o=r[0],i=r[1],c=0,d="https://wingrowmarket.com:8443/";(0,s.useEffect)((function(){k.Z.getBookedStalls().then((function(e){var a=e.data.filter((function(e){return e.bookedBy===t.id})).sort((function(e,a){return new Date(a.bookedAt)-new Date(e.bookedAt)}));i(a)}))}),[t]);var u=function(e){var a=e.target.id,s=o.filter((function(e){return e._id===a})),n=(0,l.Z)(s,1)[0];n.cancelledAt=y()(Date.now()).format("YYYY-MM-DD"),n.bookedBy=t.id,n.firstname=t.firstname,n.lastname=t.lastname,n.phone=t.phone,console.log("data - ",n),g().post(d+"cancelledstalls",n,{headers:(0,b.Z)()}),g().delete(d+"bookedstalls",{headers:(0,b.Z)(),data:{id:a}}).then((function(e){if(e){var a=e.data,t=o.filter((function(e){return e._id!==a._id}));i(t),Z.Am.success("Cancelled successfully!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}else Z.Am.warn("Failed to cancel booking!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}))};return(0,A.jsx)(A.Fragment,{children:o?(0,A.jsxs)("div",{className:"bookings_container",children:[c=o.length,console.log(c),(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsxs)("div",{className:"booking_content",children:[(0,A.jsx)("div",{className:"booking_cards",children:(0,A.jsxs)("div",{className:"backbtndiv",children:[(0,A.jsx)(f.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginLeft:"-1100px"},children:a("back")}),(0,A.jsx)("h1",{className:"booking_header",children:a("stall_bookings")}),(0,A.jsx)("p",{className:"booking_para",children:a("list_of_booked_stalls")})]})}),(0,A.jsx)("div",{className:"card_booking",children:o.map((function(e,t){var l=e.bookedAt<y()(Date.now()).format("YYYY-MM-DD");return(0,A.jsx)("div",{className:"cards_section",children:(0,A.jsx)("div",{className:"card",children:(0,A.jsxs)("div",{className:"card_content",children:[l&&(0,A.jsx)("h2",{style:{color:"red",textAlign:"center"},children:"Booking Expired"}),(0,A.jsx)("br",{}),(0,A.jsx)("h2",{className:"card_header",children:(0,A.jsxs)("span",{children:["Stall No : ",c--]})}),(0,A.jsx)("p",{className:"card_para",children:e.location}),(0,A.jsx)("p",{className:"card_para",children:e.address}),(0,A.jsx)("p",{className:"card_para",children:e.stallName}),(0,A.jsx)("p",{className:"card_para",children:e.bookedAt}),(0,A.jsx)("span",{children:l?(0,A.jsx)("div",{style:{cursor:"not-allowed",padding:"4px",backgroundColor:"gray",border:"none",marginTop:"10px",textAlign:"center"},children:"Booking Expired"}):(0,A.jsx)("span",{children:(0,A.jsx)(te,{t:a,Delete:u,id:e._id})})})]})})},t)}))})]})]}):(0,A.jsx)(R.Z,{})})},se=(0,J.Z)();function ne(e){var a=e.t,t=[{location:a("hadapsar_location")},{location:a("karvenagar_location")},{location:a("kharadi_iT_park_location")},{location:a("wanwadi_location")},{location:a("magarpatta_location")},{location:a("amanora_city_location")},{location:a("bramhasun_city_location")}],n=[{label:a("Amaranthus")},{label:a("Beet Root")},{label:a("Chukka- sorrel Leaves")},{label:a("Colocasia Leaves")},{label:a("Curry Leaves")},{label:a("Dill")},{label:a("Fenugreek Leaves")},{label:a("Green Amaranth")},{label:a("Spinach")},{label:a("Spring Onion")},{label:a("Sufflower")},{label:a("Chilli")},{label:a(" Colocasia Roots")},{label:a("Cucumber Madras")},{label:a("Kohlrabi")},{label:a("Onion White-Pandhara Kanda")},{label:a("Pointed Gourd")},{label:a("Pumpkin")},{label:a("Raw Jackfruit")},{label:a("Raw Papaya")},{label:a("Sambhar Kanda")},{label:a("Snake Gourd")},{label:a("Spiny Gourd")},{label:a("Sweet Potato")},{label:a("Yam")},{label:a("Asparagus")},{label:a("Avocado")},{label:a("Baby Corn")},{label:a("Baby Potato")},{label:a("Basil")},{label:a("Broccoli")},{label:a("Celery")},{label:a("Cherry Tomato")},{label:a("chinese Cabbage")},{label:a("Coccinia")},{label:a("Green Zucchini")},{label:a("Iceberg Lettuce")},{label:a("Parsley")},{label:a("Red Cabbage")},{label:a("Red Capsicum")},{label:a("Romaine Lettuce")},{label:a("Yellow Capsicum")},{label:a("Yellow Zucchini")},{label:a("Mushroom")},{label:a("Sweet Corn")},{label:a("Sweet Corn Grains")},{label:a("Cabbage")},{label:a("Potato (Agra)")},{label:a("Potato (Indore)")},{label:a("Potato (Talegav)")},{label:a("Beans Double")},{label:a("Bitter Gourd")},{label:a("Brinjal Big")},{label:a("Brinjal Green")},{label:a("Brinjal Long Green")},{label:a("Brinjal Purple")},{label:a("Carrot")},{label:a("Cauliflower")},{label:a("Chavali Beans")},{label:a("Chickpeas - Chana sprouts")},{label:a("chilli - Bhavgagari Mirchi")},{label:a("Chilli Green")},{label:a("chilli Simple")},{label:a("Cluster Beans")},{label:a("Coconut")},{label:a("Colocasia Roots")},{label:a("Coriander")},{label:a("Cucumber")},{label:a("Cucumder Madras")},{label:a("Cucumber Madras- Sambar Kakadi")},{label:a("Cucumber Polyhouse- English Kakadi")},{label:a("Drum Sticks")},{label:a("Field Beans")},{label:a("Fresh Peeled Green Peas")},{label:a("Garlic")},{label:a("Ginger")},{label:a("Green Capsicum")},{label:a("Green Mango")},{label:a("Green Peas")},{label:a("Groundnut Pods")},{label:a("Tamarind")},{label:a("Lady Finger")},{label:a("Lemon Grass")},{label:a("Mint")},{label:a("Onion")},{label:a("Onion Sambhar")},{label:a("Lima Beans")},{label:a("Peeled Garlic")},{label:a("Potato")},{label:a("Radish")},{label:a("Ridgegourd")},{label:a("Sponge Gourd")},{label:a("Tomato")},{label:a("Wal")},{label:a("Wal Broad")},{label:a("Wal surati")},{label:a("Water Chestnuts")},{label:a("Apple Fuji")},{label:a("Apple Green")},{label:a("Apple Kinnaur")},{label:a("Apple Red Delicious")},{label:a("Apple Shimla Big")},{label:a("Kiwi")},{label:a("Litchi")},{label:a("Strawberry")},{label:a("Grapes Black")},{label:a("Grapes Green")},{label:a("Jambhul")},{label:a("Mango Badami (For Juice)")},{label:a("Mango Devgad Hapus")},{label:a("Mango Keshar")},{label:a("Mango Lalbag")},{label:a("Mango Payri")},{label:a("Mango Ratnagiri Hapus")},{label:a("Mango Totapuri")},{label:a("Muskmelon")},{label:a("Watermelon Kiran")},{label:a("Watermelon Regular")},{label:a("Amla")},{label:a("Apple Gourd")},{label:a("Ashgourd")},{label:a("Banana")},{label:a("Custard-apple")},{label:a("Elaichi Banana")},{label:a("Figs")},{label:a("Guava")},{label:a("Jackfruit Peeled")},{label:a("Jujube - Ber")},{label:a("Orange Small")},{label:a("Orange Kinnow")},{label:a("Papaya")},{label:a("Pear Imported")},{label:a("Pomogranate")},{label:a("Raw Banana")},{label:a("Sapodilla")},{label:a("Sugarcane")},{label:a("Sweet Lime")},{label:a("Tender")}],r=(0,s.useState)({sales_quantity:void 0,sales_rate:void 0,market:""}),o=(0,l.Z)(r,2),i=o[0],u=o[1],p=(0,s.useState)(""),g=(0,l.Z)(p,2),x=g[0],b=g[1],j=function(e){var a=e.target,t=a.name,l=a.value;u((function(e){return(0,M.Z)((0,M.Z)({},e),{},(0,q.Z)({},t,l))}))};return(0,A.jsxs)("div",{className:"data_container",children:[(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsx)(V.Z,{theme:se,children:(0,A.jsxs)(z.Z,{className:"main",component:"main",maxWidth:"sm",children:[(0,A.jsx)(U.ZP,{}),(0,A.jsx)(f.rU,{className:"backbtn green",to:"/farmers",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginTop:NaN,marginLeft:"10px"},children:a("back")}),(0,A.jsxs)(N.Z,{className:"box2",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",padding:"20px 0px 10px 0px",height:"100%",width:"100%"},children:[(0,A.jsxs)(C.Z,{component:"h1",variant:"h4",className:"outward-heading",sx:{marginBottom:"1.5rem"},children:[a("farmer_outward_data"),"!!"]}),(0,A.jsxs)(N.Z,{component:"form",onSubmit:function(e){e.preventDefault();var t=y()(Date.now()).format("YYYY-MM-DDTHH:mm:ss");x&&i.sales_quantity&&i.sales_rate&&i.market&&t?k.Z.postOutward(x,i.sales_quantity,i.sales_rate,i.market,t).then((function(){Z.Am.success(a("outward_data_added_successfully"),{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload()}),2e3)}),(function(e){Z.Am.warn(a("failed_to_add_data"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),u({market:"",sales_rate:0,sales_quantity:0}),b("")})):Z.Am.warn(a("invalid_data"),{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},sx:{padding:0,marginTop:"-2.5rem",width:"100%"},children:[(0,A.jsxs)(m.ZP,{container:!0,spacing:0,children:[(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%",height:"70px"},children:[(0,A.jsx)(C.Z,{className:"stall-booking-lable",children:a("select_market")}),(0,A.jsx)(d.Z,{style:{height:"40px"},className:"textfield select-market",labelId:"demo-simple-select-autowidth-label",id:"demo-simple-select-autowidth",value:i.market,onChange:j,name:"market",required:!0,color:"success",children:t.map((function(e,a){return(0,A.jsx)(c.Z,{value:e.location,children:e.location},a)}))})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,A.jsx)(C.Z,{className:"stall-booking-lable",children:a("select_one_commodity")}),(0,A.jsx)($.Z,{style:{height:"40px"},className:"textfield",isOptionEqualToValue:function(e,a){return e.value===a.value},disablePortal:!0,id:"combo-box-demo",onChange:function(e,a){return b(null===a||void 0===a?void 0:a.label)},options:n,sx:{width:"100%"},renderInput:function(e){return(0,A.jsx)(S.Z,(0,M.Z)({color:"success",className:"textfield",name:"commodity",style:{height:"100%"}},e))}})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,A.jsxs)(C.Z,{className:"stall-booking-lable",style:{marginTop:"1rem"},children:[a("sales_quantity")," (kg)",(0,A.jsx)("sup",{children:"*"})]}),(0,A.jsx)(S.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"sales_quantity",value:i.sales_quantity,onChange:j,type:"number",id:"sales quantity",autoComplete:"new-sales quantity"})]})}),(0,A.jsx)(m.ZP,{item:!0,xs:12,className:"select_market",children:(0,A.jsxs)(h.Z,{sx:{width:"60%"},children:[(0,A.jsxs)(C.Z,{className:"stall-booking-lable",children:[a("sales_rate")," (Rs/kg)",(0,A.jsx)("sup",{children:"*"})]}),(0,A.jsx)(S.Z,{InputProps:{style:{height:"40px"}},className:"textfield",required:!0,fullWidth:!0,color:"success",name:"sales_rate",value:i.sales_rate,onChange:j,type:"number",id:"sales rate",autoComplete:"new-sales rate"})]})})]}),(0,A.jsx)(m.ZP,{children:(0,A.jsx)(P.Z,{className:"btn",type:"submit",variant:"contained",sx:{m:1,marginLeft:{xs:"115px",lg:"180px"},marginTop:"1rem"},children:a("add")})})]})]})]})})]})}var re=function(e){var a=e.t,t=(0,s.useState)(),r=(0,l.Z)(t,2),o=r[0],i=r[1],c=new Set,d=[],u=(0,n.s0)();if(o){var h,m=(0,L.Z)(o);try{for(m.s();!(h=m.n()).done;){var p=h.value;c.add(p.location)}}catch(v){m.e(v)}finally{m.f()}}var g,x=(0,L.Z)(c);try{for(x.s();!(g=x.n()).done;){var b=g.value;d.push(b)}}catch(v){x.e(v)}finally{x.f()}(0,s.useEffect)((function(){k.Z.getMyStalls().then((function(e){i(e.data),console.log(e.data)}))}),[]);var j=function(e){var a=e.target.id;u("stalls/".concat(a))};return(0,A.jsxs)(A.Fragment,{children:[o&&(0,A.jsxs)("div",{className:"places_market_container",children:[(0,A.jsxs)("div",{className:"backbtnflex",children:[(0,A.jsx)(f.rU,{style:{marginTop:"10px"},className:"backbtn green flex",to:"/farmers",children:a("back")}),(0,A.jsx)("h2",{className:"main_header_places",children:a("select_market_from_below")})]}),(0,A.jsx)("div",{className:"places_wrapper",children:d&&d.map((function(e,t){return(0,A.jsxs)("div",{onClick:j,id:e,className:"places_market_component".concat(t%4),children:[(0,A.jsx)("img",{id:e,alt:"logo",className:"image_1",src:"../images/4.webp"}),(0,A.jsxs)("div",{id:e,children:[console.log(e),(0,A.jsxs)("span",{id:e,className:"places_headers",children:[a("markets_in")," ",(0,A.jsx)("br",{}),a(e)]})]})]},e)}))})]}),!o&&(0,A.jsx)(R.Z,{})]})},oe=(t(1817),t(5653)),ie=(t(6386),t(741),j.Z.getCurrentUser());var ce=function(e){var a=e.setbookingDetails,t=(e.setValue,e.t),c=(0,n.s0)(),d="https://wingrowmarket.com:8443/",h=(0,s.useState)(),p=(0,l.Z)(h,2),j=p[0],_=p[1],y=(0,s.useState)([]),B=(0,l.Z)(y,2),O=(B[0],B[1],(0,s.useState)()),D=(0,l.Z)(O,2),E=D[0],I=D[1],T=(0,s.useState)(0),L=(0,l.Z)(T,2),G=L[0],H=L[1],Y=(0,s.useState)([]),W=(0,l.Z)(Y,2),K=W[0],q=W[1],U=(0,s.useState)(),z=(0,l.Z)(U,2),J=z[0],V=z[1],$=(0,n.UO)().Id,Q=(0,s.useState)(0),X=(0,l.Z)(Q,2),ee=X[0],ae=X[1],te=(0,s.useState)(!1),le=(0,l.Z)(te,2),se=le[0],ne=le[1],re=(0,s.useState)(),ce=(0,l.Z)(re,2),de=ce[0],ue=ce[1],he=(0,s.useState)(0),me=(0,l.Z)(he,2),pe=me[0],ge=me[1],xe=(0,s.useState)(),be=(0,l.Z)(xe,2),fe=(be[0],be[1]),je=(0,s.useState)([]),ve=(0,l.Z)(je,2),ke=(ve[0],ve[1]),_e=(0,s.useState)(),ye=(0,l.Z)(_e,2),Ze=ye[0],Se=ye[1],Ce=(0,s.useState)(8),Ne=(0,l.Z)(Ce,2),we=Ne[0],Pe=Ne[1],Ae=(0,s.useState)(!1),Be=(0,l.Z)(Ae,2),Oe=Be[0],De=Be[1],Ee=(0,s.useState)(0),Ie=(0,l.Z)(Ee,2),Te=Ie[0],Me=Ie[1],Le=(0,s.useState)(0),Re=(0,l.Z)(Le,2),Fe=Re[0],Ge=Re[1],He=new Date,Ye=(0,s.useState)(),We=(0,l.Z)(Ye,2),Ke=We[0],qe=We[1],Ue=(He.toISOString().slice(0,10),(0,s.useState)(null)),ze=(0,l.Z)(Ue,2),Je=ze[0],Ve=ze[1],$e=(0,s.useState)(10),Qe=(0,l.Z)($e,2),Xe=Qe[0],ea=Qe[1],aa=(0,s.useState)(""),ta=(0,l.Z)(aa,2),la=ta[0],sa=(ta[1],(0,s.useState)("")),na=(0,l.Z)(sa,2),ra=na[0],oa=na[1],ia=(0,s.useState)("Please select stalls"),ca=(0,l.Z)(ia,2),da=(ca[0],ca[1],(0,s.useState)([])),ua=(0,l.Z)(da,2),ha=ua[0],ma=ua[1],pa=(0,s.useState)(0),ga=(0,l.Z)(pa,2),xa=ga[0],ba=ga[1],fa={Hadapsar:3,Kharadi:4,"Karve Nagar":2,"Bramhasun City":5,Wagholi:5,Wanawadi:6,Magarpatta:7,"Amanora City":7},ja=["monday","tuesday","wednesday","thursday","friday","saturday","sunday"],va=(0,s.useState)(!1),ka=(0,l.Z)(va,2),_a=ka[0],ya=ka[1];(0,s.useEffect)((function(){var e=window.matchMedia("(max-width: 767px)");ya(e.matches),ba(fa[$]);var a=function(){return ya(e.matches)};return e.addListener(a),function(){e.removeListener(a)}}),[]),(0,s.useEffect)((function(){V(!0),k.Z.getMyStalls().then((function(e){V(!1),_(e.data)})),null!==Je&&(k.Z.getBookedStalls().then((function(e){var a=e.data&&e.data.filter((function(e){return e.location==="".concat($)&&e.bookedAt===Je}));ue(e.data),ge(a.length),console.log("alreadyBooked:",a)})),Za(!0)),oe.Z.getSub(ie.id).then((function(e){var a=e.data;if(console.log("all the subscriptions :",a),console.log("helllooooooo ",a),0!==a.length){if("active"==a[a.length-1].status){ke(a),ne(!0),qe(a[a.length-1]._id),Pe(a[a.length-1].stalls),console.log("Number of :",stalls);var t=Math.min(Number(a[a.length-1].stalls),3);console.log(t),ea(t)}else ea(1e3),ne(!1);var l=new Date(a[a.length-1].date),s=l.getFullYear(),n=Number(l.getMonth())+1,r=Number(l.getDate());0==n||2==n||4==n||6==n||7==n||9==n||11==n?Number(r)+7>31?(r=Number(r)+7-31,n+=1):r+=7:1==n?Number(r)+7>28?(r=Number(r)+7-28,n+=1):r+=7:r+7>30?(n+=1,r=Number(r)+7-30):r+=7;var o=new Date(s,n-1,r);console.log(He,o),Se(o),He>o&&(ne(!1),ea(1e3));var i=String(s)+"-"+String(n)+"-"+String(r);console.log("",i),console.log("status :",se)}}))}),[Je,$]);var Za=function(){return fe(!0)};(0,s.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,s.useEffect)((function(){var e=j&&j.filter((function(e){return e.location==="".concat($)}));I(e)}),[$,j]),(0,s.useEffect)((function(){E&&(Me(E.length),Ge(Te-pe))}),[E]);var Sa=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(l){var s,n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=K.reduce((function(e,a){return a.stallPrice+e}),0),0!==K.length){e.next=4;break}return Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 4:K.toString(),n={location:$,bookedStalls:K,bookedBy:ie.id,bookedAt:Je,isBooked:!0},r=[],K.forEach((function(e){r.push(e.stallName)})),i=d+"bookedstalls","123",g().post(i,n,{headers:(0,b.Z)()}).then((function(e){e.data&&a({farmer:ie.firstname+" "+ie.lastname,phone:ie.phone,paymentDetails:"123",BookedStalls:r,stallsBooked:K.length,totalAmount:s,address:K[0].address}),Z.Am.success(t("stalls_booked_successfully"),{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){c("../ticket")}),1e3)})).catch((function(e){Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),q([]),H(0)}));case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),Ca=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var l,s,n,r,i;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!0!==se){e.next=10;break}return l=we-K.length,console.log("new stall number",l),Pe(l),e.next=6,g().put(d+"changeStalls",{subId:Ke,s:l}).then((function(e){e.data;console.log("passed")})).catch((function(e){console.log("failed")}));case 6:if(0!==we){e.next=10;break}return"expired",e.next=10,g().put(d+"changestatus",{id:id,s:"expired"}).then((function(e){window.location.reload(!1),console.log("passed")})).catch((function(e){console.log("failed")}));case 10:if(0===K.length){e.next=33;break}if(!Oe){e.next=15;break}Sa(),e.next=30;break;case 15:if(s=K.reduce((function(e,a){return a.stallPrice+e}),0),0!==K.length){e.next=19;break}return Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),e.abrupt("return");case 19:return e.prev=19,n=d+"order",e.next=23,g().post(n,{amount:100*s},{headers:(0,b.Z)()});case 23:r=e.sent,i=r.data,Na(i.data),e.next=30;break;case 28:e.prev=28,e.t0=e.catch(19);case 30:console.length(K.length),e.next=34;break;case 33:Z.Am.warn(t("please_select_stalls")+"!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 34:case"end":return e.stop()}}),e,null,[[19,28]])})));return function(a){return e.apply(this,arguments)}}(),Na=function(e){var l=K.toString(),s={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://wingrowmarket.com:8443/"}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,bookedStalls:l,description:"Wingrow Market",handler:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(l){var s,n,r,i,u,h,m,p;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Oe){e.next=10;break}return n=d+"verify",e.next=5,g().post(n,l,{headers:(0,b.Z)()});case 5:r=e.sent,i=r.data,s=i.orderId,e.next=11;break;case 10:s="123";case 11:u={location:$,bookedStalls:K,bookedBy:ie.id,bookedAt:Je,isBooked:!0},h=[],K.forEach((function(e){h.push(e.stallName)})),m=K.reduce((function(e,a){return a.stallPrice+e}),0),p=d+"bookedstalls",g().post(p,u,{headers:(0,b.Z)()}).then((function(e){e.data&&a({farmer:ie.firstname+" "+ie.lastname,phone:ie.phone,paymentDetails:s,BookedStalls:h,stallsBooked:K.length,totalAmount:m,address:K[0].address}),Z.Am.success(t("stalls_booked_successfully"),{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){c("../ticket")}),1e3)})).catch((function(e){Z.Am.warn(t("failed_to_book_stalls"),{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),q([]),H(0)})),e.next=23;break;case 19:e.prev=19,e.t0=e.catch(0),q([]),H(0);case 23:case"end":return e.stop()}}),e,null,[[0,19]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(s).open()},wa=function(e){if(G&&"booked"!==e.target.className){var a=parseInt(G,20);if(K.length<=a){if(ha.includes(e.target.id)){console.log("no "+ha);var t=e.target.id,l=K.filter((function(e){return e._id!==t}));q(l),Ge(Fe+1);var s=ha.indexOf(e.target.id);return console.log(s),s>=0&&ha.splice(s,1),void console.log(ha)}if(K.length<G){var n=E.filter((function(a){return a._id===e.target.id}));Ge(Fe-1),q([].concat((0,r.Z)(K),[n[0]])),console.log("here")}else if(K.length===a){var o=E.filter((function(a){return a._id===e.target.id}));K.shift(),ha.shift(),q([].concat((0,r.Z)(K),[o[0]])),console.log("shifted "+ha)}ma([].concat((0,r.Z)(ha),[e.target.id])),console.log(ha)}}};(0,s.useEffect)((function(){console.log(ha)}),[ha]);var Pa=null===E||void 0===E?void 0:E.length;return new Date("2023-04-02"),(0,A.jsx)(A.Fragment,{children:J?(0,A.jsx)(R.Z,{}):(0,A.jsxs)("div",{className:"Test",children:[(0,A.jsx)(Z.Ix,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,A.jsxs)("div",{className:"main_container_stalls",children:[(0,A.jsx)(f.rU,{className:"backbtn green",to:"/farmers/stallplaces",sx:{m:2},style:{padding:"8px 20px 8px 20px",marginTop:NaN,marginLeft:"10px"},children:t("back")}),console.log(ja[fa[$]-1]),(0,A.jsxs)("h2",{className:"market-name",style:{textAlign:"center",marginTop:"20px"},children:[t($)," ",t("only_on")," ",t(ja[fa[$]-1])]}),(0,A.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",children:t("enter_booking_date")}),console.log(Je),(0,A.jsx)(F.M,{fullWidth:!0,className:"textfield",renderInput:function(e){return(0,A.jsx)(S.Z,(0,M.Z)((0,M.Z)({},e),{},{size:"big",helperText:null}))},value:Je,onChange:function(e){console.log(e.$d);var a=e.$d,t=a.getFullYear(),l=String(a.getMonth()+1).padStart(2,"0"),s=String(a.getDate()).padStart(2,"0"),n="".concat(t,"-").concat(l,"-").concat(s);console.log(n);new Date(e.toISOString().slice(0,10));Ve(n),k.Z.getBookedStallsTemp().then((function(e){console.log(Je);var a=e.data&&e.data.filter((function(e){return e.location==="".concat($)&&e.bookedAt===n}));ue(e.data),ge(a.length),Ge(Te-a.length)})),Za(!0)},defaultValue:new Date,shouldDisableDate:function(e){return new Date,!(new Date(e).getDay()===xa)},minDate:new Date,maxDate:Ze}),la&&(0,A.jsx)(C.Z,{variant:"subtitle1",color:"error",children:la})]}),(0,A.jsxs)(m.ZP,{style:{margin:"auto",marginTop:"0rem"},item:!0,xs:12,sm:6,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",children:t("no_of_stalls_required")}),(0,A.jsx)(S.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},name:"number-of-stalls-req",required:!0,placeholder:"00",fullWidth:!0,type:"number",id:"number-of-stalls-req",autoFocus:!0,color:"success",className:"textfield",value:ee,onChange:function(e,a){0!==Je?(e.target.value<=-1?(H(0),ae(0)):e.target.value<=Fe?(H(e.target.value),ae(e.target.value)):(H(Fe),ae(Fe)),oa("")):oa(t("please_select_date"))},InputProps:{inputProps:{min:0,max:Xe}}}),ra&&(0,A.jsx)(C.Z,{variant:"subtitle1",color:"error",children:ra})]})]}),(0,A.jsxs)(m.ZP,{className:"stall-position-grid",children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",children:t("select_stall_position")}),(0,A.jsxs)(m.ZP,{className:"stalls-count-cantainer",children:[(0,A.jsx)(m.ZP,{children:(0,A.jsxs)("div",{className:"stalls-count-div",children:[(0,A.jsxs)(C.Z,{className:"count",children:[t("total_stalls")," :",Te]}),(0,A.jsxs)(C.Z,{className:"count",children:[t("available_stalls")," :",Fe]})]})}),(0,A.jsx)(m.ZP,{children:E&&$?(0,A.jsxs)("div",{className:"stall_wrapper",children:[34===Pa&&(0,A.jsxs)("div",{className:"StallsContainer",children:[!_a&&(0,A.jsx)(x.Z,{data:E.slice(0,16),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),_a&&(0,A.jsx)(x.Z,{data:E.slice(0,17),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),!_a&&(0,A.jsx)(x.Z,{data:E.slice(16,17),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),!_a&&(0,A.jsx)(x.Z,{data:E.slice(17,18),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),!_a&&(0,A.jsx)(x.Z,{data:E.slice(18,34),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),_a&&(0,A.jsx)(x.Z,{data:E.slice(17,35),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t})]}),50===Pa&&(0,A.jsxs)("div",{className:"StallsContainer",children:[(0,A.jsx)(x.Z,{data:E.slice(0,24),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),!_a&&(0,A.jsx)(x.Z,{data:E.slice(24,25),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),!_a&&(0,A.jsx)(x.Z,{data:E.slice(25,26),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t}),(0,A.jsx)(x.Z,{data:E.slice(26,50),handleClick:wa,bookedStalls:K,alreadyBooked:de,date:Je,t:t})]})]}):(0,A.jsx)("div",{className:"select_market",children:(0,A.jsx)("h2",{children:t("please_select_market")})})})]}),(0,A.jsxs)(m.ZP,{className:"stall-pricing-grid",children:[(0,A.jsxs)("div",{className:"stall-pricing-main-div",children:[(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#AACE48"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"100/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#3AA54B"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"300/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#A42A56"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:"500/-"})]}),(0,A.jsxs)("div",{className:"price-holder",children:[(0,A.jsx)(N.Z,{sx:{width:20,height:20,backgroundColor:"#B3B3B3"},className:"stall-color"}),(0,A.jsx)("div",{className:"stall-price",children:t("booked")})]})]}),(0,A.jsx)(w.Z,{className:"divider"}),(0,A.jsxs)("div",{className:"stall-total-amount-holder",children:[(0,A.jsx)("div",{className:"total-amount",children:t("total_amount")}),(0,A.jsxs)("div",{className:"total-amount",children:["Rs.",K.reduce((function(e,a){return a.stallPrice+e}),0),"/-"]})]})]})]}),0!==G&&0!==K.length?(0,A.jsx)("div",{className:"modalbtn",children:(0,A.jsx)(v.Z,{t:t,status:se,setCashOnDelivery:De,confirmBooking:Ca,selected:ha})}):(0,A.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,A.jsx)(m.ZP,{item:!0,xs:6,children:(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){Z.Am.warn("Please select stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},children:t("Pay")}),(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:function(){Z.Am.warn("Please select stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})},children:t("pay_in_market")})]})})})]})]})})};t(1823);var de=function(e){var a=e.bookingDetails,t=(0,s.useState)(!1),r=(0,l.Z)(t,2),c=r[0],d=r[1];(0,s.useEffect)((function(){c||u()}),[c]);var u=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(){var t,l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("booking ",a),"https://wingrowmarket.com:8443/twilio",e.next=4,g().post("https://wingrowmarket.com:8443/twilio",{bookingDetails:a},{headers:(0,b.Z)()});case 4:t=e.sent,l=t.data,d(!0),console.log(l);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=a.BookedStalls,m=(0,n.s0)(),p=null===h||void 0===h?void 0:h.toString();return(0,A.jsx)(A.Fragment,{children:a?(0,A.jsxs)("div",{className:"invoice-box",children:[(0,A.jsx)("h2",{className:"thanks",children:"Stall booking details"}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{className:"invoice_details",children:[(0,A.jsxs)("div",{children:["Farmer Name : ",a.farmer]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["Phone : ",a.phone]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["No. of Stalls Booked :",a.stallsBooked]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["Stalls Booked : ",p]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["Payment Id : ",a.paymentDetails]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["Addess : ",a.address]}),(0,A.jsx)("br",{}),(0,A.jsxs)("div",{children:["Total Amount : ",a.totalAmount]}),(0,A.jsx)("br",{})]}),(0,A.jsx)("h2",{className:"thanks",children:"Thank You !"}),(0,A.jsxs)("div",{className:"bookings_buttons",children:[(0,A.jsx)("button",{onClick:function(){m("/farmers/stallplaces")},className:"btns_bookings",children:"Continue Booking"}),(0,A.jsx)("button",{onClick:function(){m("../mybookings")},className:"btns_bookings",children:"Check booked stalls"})]})]}):(0,A.jsx)(R.Z,{})})};var ue=function(e){var a=e.t;return(0,A.jsx)("div",{children:(0,A.jsxs)("div",{className:"farmerScreen",children:[(0,A.jsx)(f.rU,{className:"links_farmersdata red",to:"./stallplaces",children:a("book_stall")}),(0,A.jsx)(f.rU,{className:"links_farmersdata green",to:"./mybookings",children:a("my_bookings")}),(0,A.jsx)(f.rU,{className:"links_farmersdata red",to:"./inward",children:a("fill_inward")}),(0,A.jsx)(f.rU,{className:"links_farmersdata green",to:"./outward",children:a("fill_outward")}),(0,A.jsx)(f.rU,{className:"links_farmersdata red",to:"./farmershome",children:a("data")}),(0,A.jsx)(f.rU,{className:"links_farmersdata green",to:"./subscription",children:a("subscription")})]})})},he=function(e){var a=e.t,t=(0,n.s0)(),r=j.Z.getCurrentUser(),h=(0,s.useState)([]),p=(0,l.Z)(h,2),x=p[0],_=p[1],y=(0,s.useState)(),C=(0,l.Z)(y,2),N=(C[0],C[1]),w=(0,s.useState)(0),B=(0,l.Z)(w,2),O=B[0],D=B[1],E=(0,s.useState)(!1),I=(0,l.Z)(E,2),T=I[0],M=I[1],L=(0,s.useState)([]),R=(0,l.Z)(L,2),F=R[0],G=R[1],H=(0,s.useState)(),Y=(0,l.Z)(H,2),W=Y[0],K=Y[1],q=(0,s.useState)(!1),U=(0,l.Z)(q,2),z=U[0],J=(U[1],(0,s.useState)(new Date)),V=(0,l.Z)(J,2),$=V[0],Q=V[1],X=(0,s.useState)(),ee=(0,l.Z)(X,2),ae=ee[0],te=ee[1],le="https://wingrowmarket.com:8443/",se=(0,s.useState)(),ne=(0,l.Z)(se,2),re=ne[0],ie=ne[1],ce=(0,s.useState)(),de=(0,l.Z)(ce,2),ue=de[0],he=de[1],me=(0,s.useState)(0),pe=(0,l.Z)(me,2),ge=(pe[0],pe[1]);(0,s.useEffect)((function(){k.Z.getBookedStalls().then(function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,l,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.data,console.log("the data is- ",t),0===x.length){e.next=22;break}if(new Date(x[x.length-1].date),console.log("hello---  ",x[x.length-1].date),G(t.filter((function(e){if(e.bookedBy===r.id&&x[x.length-1].date<=e.bookedAt)return!0}))),console.log("the booked stalls are -- ",F),console.log(x),l=F.length,console.log(re,l),!(re<=l)){e.next=21;break}if(ge(0),s=x[x.length-1]._id,"active"!=W){e.next=18;break}return K("expired"),"expired",e.next=18,g().put(le+"changestatus",{id:s,s:"expired"}).then((function(e){window.location.reload(!1),console.log("passed")})).catch((function(e){console.log("failed")}));case 18:console.log("sub is-",x[x.length-1]._id),e.next=22;break;case 21:ge(re);case 22:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}())}),[F,x]),(0,s.useEffect)((function(){var e=document.createElement("script");return e.src="https://checkout.razorpay.com/v1/checkout.js",e.async=!0,document.body.appendChild(e),function(){document.body.removeChild(e)}}),[]),(0,s.useEffect)((function(){var e=r.id;console.log("inside sub useeffect"),(0===x.length||function(e){try{JSON.parse(e)}catch(a){return!1}return!0}(x[0]))&&oe.Z.getSub(e).then((function(e){var a=e.data;if(console.log("all the subscriptions :",a),console.log("helllooooooo ",a),0!==a.length){"active"==a[a.length-1].status?(_(a),K("active")):K("expired");var t=new Date(a[a.length-1].date),l=t.getFullYear(),s=Number(t.getMonth())+1,n=Number(t.getDate());0==s||2==s||4==s||6==s||7==s||9==s||11==s?Number(n)+7>31?(n=1,s+=1):n+=7:1==s?Number(n)+7>28?(n=1,s+=1):n+=7:n+7>30?(s+=1,n=1):n+=7;var r=String(l)+"-"+String(s)+"-"+String(n);console.log(r),he(r),ie(a[a.length-1].stalls)}})),N(!0)}),[x]);var xe=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var l;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return 8100,console.log("Im here"),K("active"),l=r.id,"123","active",e.next=8,g().post(le+"sub",{date:$,userId:l,validity:ae,stalls:re,s:"active",price:8100}).then((function(e){var a=e.data;a&&(console.log("data--",a),t("/farmers/subscription")),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),_([])}));case 8:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),be=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,l,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("hellloooo"),!T){e.next=5;break}xe(),e.next=18;break;case 5:return 8100,e.prev=6,t=le+"order",e.next=10,g().post(t,{amount:81e4},{headers:(0,b.Z)()});case 10:l=e.sent,s=l.data,fe(s.data),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(6),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[6,15]])})));return function(a){return e.apply(this,arguments)}}(),fe=function(e){var a={key:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://wingrowmarket.com:8443/"}.KEY_ID,amount:e.amount,currency:e.currency,order_id:e.id,description:"Wingrow Market",handler:function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t,l,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,"https://wingrowmarket.com:8443/verify",e.next=4,g().post("https://wingrowmarket.com:8443/verify",a,{headers:(0,b.Z)()});case 4:return t=e.sent,l=t.data,l.orderId,s=r.id,K("active"),"active",e.next=12,g().post(le+"sub",{date:$,userId:s,validity:ae,stalls:re,s:"active",price:O}).then((function(e){var a=e.data;a&&(console.log(a),_(a)),Z.Am.success("stalls booked successfully!",{position:"top-center",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){window.location.reload(!1)}),1e3)})).catch((function(e){Z.Am.warn("Failed to book stalls!",{position:"top-right",autoClose:2500,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"})}));case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),_([]);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(a){return e.apply(this,arguments)}}(),theme:{color:"#3399cc"}};new window.Razorpay(a).open()},je=function(){var e=(0,i.Z)((0,o.Z)().mark((function e(a){var t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),K("active"),t=r.id,"active",console.log(t),e.next=7,g().post(le+"sub",{date:$,userId:t,validity:ae,stalls:re,s:"active",price:O}).then((function(e){console.log("the return data ",e)})).catch((function(e){console.log(e)}));case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return(0,A.jsxs)("div",{className:"sub",children:[(0,A.jsx)(f.rU,{className:"backbtn green",to:"/farmers",style:{padding:"8px 20px 8px 20px"},children:"Back "}),(0,A.jsx)("div",{className:"subscrp-heading",children:(0,A.jsx)("h1",{className:"header",children:"Subscription Model"})}),0!==x.length&&"active"==W?(0,A.jsx)("div",{className:"subscribe",children:(0,A.jsxs)("div",{className:"stallslefts downtext",children:[(0,A.jsxs)("div",{className:"inner_downtext",children:[(0,A.jsx)("p",{className:"startdate",children:"Start data :"}),(0,A.jsx)("p",{children:x[x.length-1].date})]}),(0,A.jsxs)("div",{className:"inner_downtext",children:[(0,A.jsx)("p",{className:"startdate",children:" valid till :"}),(0,A.jsxs)("p",{children:[ue," "]})]}),(0,A.jsxs)("div",{className:"inner_downtext",children:[(0,A.jsx)("p",{className:"startdate",children:" Status :"}),(0,A.jsxs)("p",{children:[x[x.length-1].status," "]})]}),(0,A.jsxs)("div",{className:"inner_downtext",children:[(0,A.jsx)("p",{className:"startdate",children:" Stalls :"}),(0,A.jsxs)("p",{children:[x[x.length-1].stalls," "]})]})]})}):(0,A.jsxs)("div",{classname:"box",children:[(0,A.jsx)("h2",{style:{textAlign:"center",paddingTop:20},children:"not Subscribed"}),(0,A.jsxs)("form",{onSubmit:je,children:[(0,A.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,justifyContent:"center",alignItems:"center",sx:{marginTop:"1rem",marginLeft:{xs:"1.7rem"}},children:[(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",sx:{marginRight:{xs:"6rem",lg:"0px"}},children:"Enter Booking Date"}),(0,A.jsx)(S.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},sx:{width:{xs:"80%",sm:"100%",md:"65%",lg:"50%",xl:"100%"}},name:"booking-date",required:!0,fullWidth:!0,type:"date",id:"booking-date",autoFocus:!0,value:$,onChange:function(e){Q(e.target.value),console.log("clicking")},color:"success"})]}),(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},sx:{sm:top-40,marginRight:{xs:"7rem",lg:"1rem"}},id:"demo-simple-select-helper-label",children:"Type"}),(0,A.jsxs)(d.Z,{sx:{fontSize:"1.2rem",width:{xs:"80%",sm:"100%",md:"65%",lg:"50%",xl:"100%"}},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:ae,label:"Type",name:"type",onChange:function(e){te("7"),ie(8)},color:"success",className:"mx-auto",children:[(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,A.jsx)("em",{children:"Select"})}),(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"1",children:"1 week (8 Days)"})]})]}),(0,A.jsxs)(m.ZP,{item:!0,xs:12,sm:6,md:4,lg:3,xl:2,children:[(0,A.jsx)(u.Z,{className:"stall-booking-lable",inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",sx:{marginRight:{xs:"7rem",lg:"1rem"}},children:"Price"}),(0,A.jsxs)(d.Z,{sx:{fontSize:"1.2rem",width:{xs:"80%",sm:"100%",md:"65%",lg:"50%",xl:"100%"}},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:O,label:"Type",name:"type",onChange:function(e){D(e.target.value)},color:"success",className:"mx-auto",children:[(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,A.jsx)("em",{children:"Select"})}),(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"1",children:"300"}),(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"1",children:"500"}),(0,A.jsx)(c.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"1",children:"800"})]})]})]}),ae&&$?(0,A.jsx)("div",{className:"modalbtn",children:(0,A.jsx)(v.Z,{t:a,setCashOnDelivery:M,status:z,confirmBooking:be})}):(0,A.jsx)(m.ZP,{container:!0,alignItems:"center",justifyContent:"center",children:(0,A.jsx)(m.ZP,{item:!0,xs:6,children:(0,A.jsxs)("div",{style:{display:"flex",justifyContent:"center"},children:[(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY"}),(0,A.jsx)(P.Z,{style:{width:"110px",height:"40px",paddingLeft:"5rem",paddingRight:"5rem",margin:"1rem",color:"white",background:"linear-gradient(90deg, #07952b 41%, #0d6a02)",borderRadius:"20px",textAlign:"center",marginTop:"10px",display:"flex",alignItems:"center",justifyContent:"center"},children:"PAY ON DELIVERY"})]})})})]})]})]})},me=(t(8662),function(e){var a=e.t,t=(0,s.useState)({farmer:"",phone:"",paymentDetails:"",BookedStalls:null,stallsBooked:null,totalAmount:null}),r=(0,l.Z)(t,2),o=r[0],i=r[1];return(0,A.jsx)(n.Z5,{children:(0,A.jsxs)(n.AW,{path:"/",element:(0,A.jsx)(K,{}),children:[(0,A.jsx)(n.AW,{index:!0,element:(0,A.jsx)(ue,{t:a})}),(0,A.jsx)(n.AW,{path:"stallplaces/stalls/:Id",element:(0,A.jsx)(ce,{setbookingDetails:i,t:a})}),(0,A.jsx)(n.AW,{path:"/farmershome",element:(0,A.jsx)(W,{t:a})}),(0,A.jsx)(n.AW,{path:"/inward",element:(0,A.jsx)(X,{t:a})}),(0,A.jsx)(n.AW,{path:"/stallplaces",element:(0,A.jsx)(re,{t:a})}),(0,A.jsx)(n.AW,{path:"/advancebookings",element:(0,A.jsx)(T,{setbookingDetails:i})}),(0,A.jsx)(n.AW,{path:"/outward",element:(0,A.jsx)(ne,{t:a})}),(0,A.jsx)(n.AW,{path:"/ticket",element:(0,A.jsx)(de,{bookingDetails:o,t:a})}),(0,A.jsx)(n.AW,{path:"/mybookings",element:(0,A.jsx)(le,{t:a})}),(0,A.jsx)(n.AW,{path:"/subscription",element:(0,A.jsx)(he,{t:a})})]})})})},3223:function(e,a,t){t.d(a,{Z:function(){return d}});var l=t(1413),s=(t(2791),t(6314)),n=t(7391),r=t(6571),o=t(7792),i=t(7607),c=t(184);function d(e){var a=e.setValue,t=e.value;return(0,c.jsx)(r._,{dateAdapter:o.y,children:(0,c.jsx)(s.Z,{spacing:3,children:(0,c.jsx)(i.$,{label:"Date",inputFormat:"MM/DD/YYYY",value:t,onChange:function(e){a(e)},renderInput:function(e){return(0,c.jsx)(n.Z,(0,l.Z)({},e))}})})})}},4252:function(e,a,t){t.d(a,{Z:function(){return r}});var l=t(9439),s=t(2791);function n(){var e=window;return{width:e.innerWidth,height:e.innerHeight}}function r(){var e=(0,s.useState)(n()),a=(0,l.Z)(e,2),t=a[0],r=a[1];return(0,s.useEffect)((function(){function e(){r(n())}return window.addEventListener("resize",e),function(){return window.removeEventListener("resize",e)}}),[]),t}},5653:function(e,a,t){var l=t(4569),s=t.n(l),n=t(6456),r="https://wingrowmarket.com:8443/",o={getPublicContent:function(){return s().get(r+"all")},getStallsData:function(){return s().get(r+"stalls",{headers:(0,n.Z)()})},getAdminData:function(){return s().get(r+"admin",{headers:(0,n.Z)()})},getInOutdata:function(){return s().get(r+"inwardoutward",{headers:(0,n.Z)()})},getFarmers:function(){return s().get(r+"farmer",{headers:(0,n.Z)()})},getAllUsers:function(){return s().get(r+"allusers",{headers:(0,n.Z)()})},getUsers:function(){return s().get(r+"users",{headers:(0,n.Z)()})},getSub:function(e){return s().post(r+"sub1",{userId:e})},postSub:function(e,a,t,l){return s().post(r+"sub",{date:e,userId:a,stalls:t,validity:l},{headers:(0,n.Z)()})},getMarket:function(){return s().get(r+"getmarket")},getMarkets:function(){return s().get(r+"getmarkets")}};a.Z=o}}]);
//# sourceMappingURL=590.7edf79b2.chunk.js.map