"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[416],{14416:function(e,t,n){n.r(t),n.d(t,{default:function(){return c}});var s=n(1413),r=n(29439),a=n(72791),o=n(55653),i=n(21840),l=n(36457),u=n(80184),c=function(e){var t=e.t,n=(0,a.useState)(),c=(0,r.Z)(n,2),d=c[0],f=c[1],g=(0,a.useState)(!1),p=(0,r.Z)(g,2),m=p[0],h=p[1],b=(0,a.useState)(!1),_=(0,r.Z)(b,2),j=_[0],x=_[1],v=(0,a.useState)(!1),Z=(0,r.Z)(v,2),w=Z[0],N=Z[1],k=(0,a.useRef)(""),S=(0,a.useState)({photo:""}),C=(0,r.Z)(S,2),y=C[0],D=C[1];(0,a.useEffect)((function(){o.Z.getAllUsers().then((function(e){var t=null===e||void 0===e?void 0:e.data;f(t[0])}))}),[]);return(0,u.jsxs)("div",{children:[!m&&d?(0,u.jsx)("div",{className:"profile",children:(0,u.jsxs)("div",{className:"profile_container",children:[(0,u.jsx)("div",{className:"profile_image_wrapper",children:(0,u.jsx)("img",{className:"profile_img",src:d.pic?d.pic:" ",alt:"profile"})}),(0,u.jsxs)("div",{className:"profile_details",children:[(0,u.jsxs)("div",{children:[t("mobile_no")," : ",d.phone]}),(0,u.jsxs)("div",{children:[t("name")," : ",d.firstname," ",d.lastname]}),d.address&&(0,u.jsxs)("div",{children:[t("address")," : ",d.address]})]}),(0,u.jsxs)("div",{className:"profile_btn_grp",children:[j?(0,u.jsxs)("form",{className:"form_uploaddata",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("photo",y.photo),h(!0),t&&l.Z.addimage(t).then((function(e){e?(f(e),console.log(e)):console.log("Image not set"),window.location.reload(),h(!1)})),x(!j)},encType:"multipart/form-data",children:[(0,u.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",style:{marginLeft:"auto"},onChange:function(e){D((0,s.Z)((0,s.Z)({},y),{},{photo:e.target.files[0]}))}}),(0,u.jsx)("input",{type:"submit",className:"profile_btn_toggle"}),(0,u.jsx)("button",{className:"profile_btn_toggle",onClick:function(){return x(!j)},children:t("cancel")})]}):(0,u.jsx)("button",{className:"profile_btn_toggle",onClick:function(){x(!j)},children:t("upload_profile")}),w?(0,u.jsxs)("form",{className:"form_uploaddata",onSubmit:function(e){e.preventDefault();var t=k.current.value;t&&0!==t.length&&l.Z.addAddress(t).then((function(e){f(e),console.log("user ",e),window.location.reload(),h(!1)})),N(!w)},children:[(0,u.jsx)("input",{type:"text",name:"address",ref:k}),(0,u.jsx)("input",{type:"submit",className:"profile_btn_toggle"}),(0,u.jsx)("button",{className:"profile_btn_toggle",onClick:function(){return N(!w)},children:t("cancel")})]}):(0,u.jsx)("button",{className:"profile_btn_toggle",onClick:function(){N(!w)},children:d.address?t("update_address"):t("add_address")})]})]})}):(0,u.jsx)(i.Z,{}),(0,u.jsx)("div",{className:"pageBottom"})]})}},55653:function(e,t,n){var s=n(74569),r=n.n(s),a=n(16456),o="https://wingrowmarket.com:8443/",i={getPublicContent:function(){return r().get(o+"all")},getStallsData:function(){return r().get(o+"stalls",{headers:(0,a.Z)()})},getAdminData:function(){return r().get(o+"admin",{headers:(0,a.Z)()})},getInOutdata:function(){return r().get(o+"inwardoutward",{headers:(0,a.Z)()})},getFarmers:function(){return r().get(o+"farmer",{headers:(0,a.Z)()})},getAllUsers:function(){return r().get(o+"allusers",{headers:(0,a.Z)()})},getUsers:function(){return r().get(o+"users",{headers:(0,a.Z)()})},getSub:function(e){return r().post(o+"sub1",{userId:e})},postSub:function(e,t,n,s){return r().post(o+"sub",{date:e,userId:t,stalls:n,validity:s,first:first,second:second,third:third},{headers:(0,a.Z)()})},getMarket:function(){return r().get(o+"getmarket")},getMarkets:function(){return r().get(o+"getmarkets")},getSubscribedData:function(){return r().get(o+"sub")}};t.Z=i}}]);
//# sourceMappingURL=416.a30fc1bb.chunk.js.map